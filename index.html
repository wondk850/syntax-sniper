<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>êµ¬ë¬¸ ìŠ¤ë‚˜ì´í¼ â€” Syntax Sniper</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&family=JetBrains+Mono:wght@400;700&display=swap');

        :root {
            --bg: #0f1117;
            --surface: #1a1d27;
            --surface2: #242836;
            --surface3: #2e3347;
            --primary: #6c8cff;
            --primary-dim: #4a65cc;
            --accent: #ff6b9d;
            --accent2: #ffd166;
            --success: #2ecc71;
            --danger: #e74c3c;
            --warning: #f39c12;
            --text: #e8eaf0;
            --text-dim: #8892a4;
            --text-muted: #5a6273;
            --noun: #60a5fa;
            --modifier: #fb7185;
            --noun-bg: rgba(96, 165, 250, .15);
            --modifier-bg: rgba(251, 113, 133, .15);
            --radius: 12px;
            --shadow: 0 8px 32px rgba(0, 0, 0, .4);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
            overflow-x: hidden
        }

        /* HEADER */
        .header {
            background: linear-gradient(135deg, #1e2233 0%, #2a1f3d 100%);
            padding: 20px 30px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid var(--surface3);
            position: sticky;
            top: 0;
            z-index: 100
        }

        .header h1 {
            font-size: 1.4em;
            font-weight: 900;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent
        }

        .header-sub {
            font-size: .85em;
            color: var(--text-dim)
        }

        .stats-bar {
            display: flex;
            gap: 15px;
            align-items: center
        }

        .stat {
            background: var(--surface2);
            padding: 6px 14px;
            border-radius: 20px;
            font-size: .8em;
            display: flex;
            align-items: center;
            gap: 6px
        }

        .stat .num {
            font-weight: 700;
            color: var(--accent2)
        }

        /* NAV TABS */
        .nav {
            display: flex;
            gap: 4px;
            padding: 10px 20px;
            background: var(--surface);
            border-bottom: 1px solid var(--surface3);
            overflow-x: auto
        }

        .nav button {
            padding: 10px 20px;
            border: none;
            background: transparent;
            color: var(--text-dim);
            font-size: .9em;
            font-weight: 500;
            border-radius: 8px;
            cursor: pointer;
            transition: .2s;
            white-space: nowrap;
            font-family: inherit
        }

        .nav button:hover {
            background: var(--surface2);
            color: var(--text)
        }

        .nav button.active {
            background: var(--primary-dim);
            color: #fff;
            font-weight: 700
        }

        /* MAIN */
        .main {
            max-width: 960px;
            margin: 0 auto;
            padding: 20px
        }

        .panel {
            display: none;
            animation: fadeUp .4s
        }

        .panel.active {
            display: block
        }

        @keyframes fadeUp {
            from {
                opacity: 0;
                transform: translateY(15px)
            }

            to {
                opacity: 1;
                transform: translateY(0)
            }
        }

        /* CARDS */
        .card {
            background: var(--surface);
            border: 1px solid var(--surface3);
            border-radius: var(--radius);
            padding: 24px;
            margin-bottom: 16px;
            box-shadow: var(--shadow)
        }

        .card h2 {
            font-size: 1.1em;
            margin-bottom: 12px;
            color: var(--primary)
        }

        .card h3 {
            font-size: .95em;
            margin-bottom: 8px;
            color: var(--accent2)
        }

        /* SENTENCE DISPLAY */
        .sentence-box {
            background: var(--surface2);
            border-radius: var(--radius);
            padding: 20px 24px;
            margin: 16px 0;
            line-height: 2.2;
            font-size: 1.15em;
            letter-spacing: .3px
        }

        .sentence-box .word {
            display: inline-block;
            padding: 2px 4px;
            margin: 2px;
            border-radius: 6px;
            cursor: pointer;
            transition: .15s;
            border: 2px solid transparent;
            user-select: none
        }

        .sentence-box .word:hover {
            background: var(--surface3)
        }

        .sentence-box .word.noun-selected {
            background: var(--noun-bg);
            border-color: var(--noun);
            color: var(--noun);
            font-weight: 700
        }

        .sentence-box .word.mod-selected {
            background: var(--modifier-bg);
            border-color: var(--modifier);
            color: var(--modifier);
            font-weight: 700
        }

        .sentence-box .word.correct-noun {
            background: rgba(46, 204, 113, .15);
            border-color: var(--success);
            color: var(--success)
        }

        .sentence-box .word.correct-mod {
            background: rgba(46, 204, 113, .15);
            border-color: var(--success);
            color: var(--success)
        }

        .sentence-box .word.wrong {
            background: rgba(231, 76, 60, .15);
            border-color: var(--danger);
            color: var(--danger)
        }

        /* BUTTONS */
        .btn {
            padding: 10px 22px;
            border: none;
            border-radius: 8px;
            font-size: .9em;
            font-weight: 600;
            cursor: pointer;
            transition: .2s;
            font-family: inherit
        }

        .btn-primary {
            background: var(--primary);
            color: #fff
        }

        .btn-primary:hover {
            background: var(--primary-dim)
        }

        .btn-accent {
            background: var(--accent);
            color: #fff
        }

        .btn-accent:hover {
            opacity: .85
        }

        .btn-success {
            background: var(--success);
            color: #fff
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--surface3);
            color: var(--text-dim)
        }

        .btn-outline:hover {
            border-color: var(--primary);
            color: var(--primary)
        }

        .btn-group {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-top: 12px
        }

        /* MODE SELECTOR */
        .mode-selector {
            display: flex;
            gap: 6px;
            margin-bottom: 12px
        }

        .mode-selector .chip {
            padding: 6px 14px;
            border-radius: 20px;
            font-size: .8em;
            cursor: pointer;
            background: var(--surface2);
            color: var(--text-dim);
            border: 1px solid var(--surface3);
            transition: .2s
        }

        .mode-selector .chip:hover {
            border-color: var(--primary)
        }

        .mode-selector .chip.active {
            background: var(--primary-dim);
            color: #fff;
            border-color: var(--primary)
        }

        /* TYPE GRID */
        .type-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 6px;
            margin: 12px 0
        }

        .type-btn {
            padding: 8px;
            border: 2px solid var(--surface3);
            border-radius: 8px;
            background: var(--surface2);
            color: var(--text-dim);
            font-size: .75em;
            cursor: pointer;
            text-align: center;
            transition: .2s;
            font-family: inherit
        }

        .type-btn:hover {
            border-color: var(--primary);
            color: var(--text)
        }

        .type-btn.selected {
            border-color: var(--accent);
            color: var(--accent);
            background: var(--modifier-bg)
        }

        .type-btn.correct {
            border-color: var(--success);
            color: var(--success);
            background: rgba(46, 204, 113, .1)
        }

        .type-btn.wrong {
            border-color: var(--danger);
            color: var(--danger);
            background: rgba(231, 76, 60, .1)
        }

        /* FEEDBACK */
        .feedback {
            padding: 16px 20px;
            border-radius: var(--radius);
            margin: 12px 0;
            display: none;
            animation: fadeUp .3s
        }

        .feedback.show {
            display: block
        }

        .feedback.correct {
            background: rgba(46, 204, 113, .1);
            border: 1px solid var(--success);
            color: var(--success)
        }

        .feedback.wrong {
            background: rgba(231, 76, 60, .1);
            border: 1px solid var(--danger)
        }

        .feedback .fb-title {
            font-weight: 700;
            font-size: 1em;
            margin-bottom: 6px
        }

        .feedback .fb-explain {
            font-size: .85em;
            color: var(--text-dim);
            line-height: 1.7
        }

        /* PROGRESS BAR */
        .progress-bar {
            height: 6px;
            background: var(--surface3);
            border-radius: 3px;
            margin: 10px 0;
            overflow: hidden
        }

        .progress-bar .fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            border-radius: 3px;
            transition: width .4s
        }

        /* DASHBOARD */
        .dash-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 12px
        }

        .dash-card {
            background: var(--surface2);
            border-radius: var(--radius);
            padding: 16px;
            text-align: center
        }

        .dash-card .big-num {
            font-size: 2em;
            font-weight: 900;
            color: var(--accent2)
        }

        .dash-card .label {
            font-size: .8em;
            color: var(--text-dim);
            margin-top: 4px
        }

        .bar-chart {
            margin: 16px 0
        }

        .bar-row {
            display: flex;
            align-items: center;
            gap: 8px;
            margin: 4px 0;
            font-size: .8em
        }

        .bar-row .bar-label {
            width: 140px;
            text-align: right;
            color: var(--text-dim);
            flex-shrink: 0
        }

        .bar-row .bar-track {
            flex: 1;
            height: 20px;
            background: var(--surface3);
            border-radius: 4px;
            overflow: hidden
        }

        .bar-row .bar-fill {
            height: 100%;
            border-radius: 4px;
            transition: width .5s
        }

        .bar-row .bar-val {
            width: 40px;
            text-align: right;
            font-weight: 700;
            font-size: .85em
        }

        /* CUSTOM TEXT */
        .custom-textarea {
            width: 100%;
            min-height: 150px;
            background: var(--surface2);
            border: 2px solid var(--surface3);
            border-radius: var(--radius);
            padding: 16px;
            color: var(--text);
            font-size: 1em;
            font-family: inherit;
            resize: vertical;
            line-height: 1.8
        }

        .custom-textarea:focus {
            outline: none;
            border-color: var(--primary)
        }

        .custom-textarea::placeholder {
            color: var(--text-muted)
        }

        /* LEGEND */
        .legend {
            display: flex;
            gap: 16px;
            align-items: center;
            margin: 12px 0;
            font-size: .85em
        }

        .legend span {
            display: flex;
            align-items: center;
            gap: 4px
        }

        .legend .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            display: inline-block
        }

        .dot-noun {
            background: var(--noun)
        }

        .dot-mod {
            background: var(--modifier)
        }

        /* TOOLTIP */
        .info-tip {
            position: relative;
            display: inline-block;
            cursor: help;
            color: var(--primary);
            font-size: .8em;
            margin-left: 4px
        }

        .info-tip:hover::after {
            content: attr(data-tip);
            position: absolute;
            bottom: 120%;
            left: 50%;
            transform: translateX(-50%);
            background: var(--surface3);
            color: var(--text);
            padding: 8px 12px;
            border-radius: 8px;
            font-size: .8em;
            white-space: nowrap;
            z-index: 10;
            box-shadow: var(--shadow)
        }

        /* DIFFICULTY */
        .diff-badge {
            font-size: .7em;
            padding: 2px 8px;
            border-radius: 10px;
            font-weight: 600
        }

        .diff-easy {
            background: rgba(46, 204, 113, .15);
            color: var(--success)
        }

        .diff-mid {
            background: rgba(243, 156, 18, .15);
            color: var(--warning)
        }

        .diff-hard {
            background: rgba(231, 76, 60, .15);
            color: var(--danger)
        }

        /* LONG-PRESS FEEDBACK */
        .sentence-box .word.long-pressing {
            transform: scale(1.15);
            box-shadow: 0 0 12px rgba(232, 121, 249, .5);
            transition: transform .15s, box-shadow .15s
        }

        /* RESPONSIVE */
        @media(max-width:700px) {
            .header {
                flex-direction: column;
                gap: 10px;
                text-align: center
            }

            .stats-bar {
                justify-content: center
            }

            .type-grid {
                grid-template-columns: repeat(auto-fill, minmax(90px, 1fr))
            }

            .dash-grid {
                grid-template-columns: 1fr 1fr
            }
        }
    </style>
</head>

<body>
    <!-- HEADER -->
    <div class="header">
        <div>
            <h1>ğŸ¯ êµ¬ë¬¸ ìŠ¤ë‚˜ì´í¼</h1>
            <div class="header-sub">í›„ì¹˜ìˆ˜ì‹ ì‹¤ì „ íŒë³„ í›ˆë ¨ê¸°</div>
        </div>
        <div class="stats-bar">
            <div class="stat">ğŸ¯ ì •ë‹µë¥  <span class="num" id="hd-acc">0%</span></div>
            <div class="stat">ğŸ”¥ ì—°ì† <span class="num" id="hd-streak">0</span></div>
            <div class="stat">ğŸ“Š ì§„í–‰ <span class="num" id="hd-done">0/0</span></div>
        </div>
    </div>
    <!-- NAV -->
    <div class="nav">
        <button class="active" onclick="switchTab('identify')">ğŸ” íŒë³„ ëª¨ë“œ</button>
        <button onclick="switchTab('classify')">ğŸ·ï¸ ë¶„ë¥˜ ëª¨ë“œ</button>
        <button onclick="switchTab('custom')">ğŸ“ ì»¤ìŠ¤í…€ í…ìŠ¤íŠ¸</button>
        <button onclick="switchTab('dashboard')">ğŸ“Š ëŒ€ì‹œë³´ë“œ</button>
        <button onclick="switchTab('reference')">ğŸ“– í›„ì¹˜ìˆ˜ì‹ ì°¸ì¡°</button>
    </div>
    <!-- MAIN CONTENT -->
    <div class="main">

        <!-- ===== íŒë³„ ëª¨ë“œ ===== -->
        <div id="tab-identify" class="panel active">
            <div class="card">
                <h2>ğŸ” íŒë³„ ëª¨ë“œ â€” ëª…ì‚¬ì™€ ìˆ˜ì‹ì–´ë¥¼ ì°¾ì•„ë¼!</h2>
                <p style="color:var(--text-dim);font-size:.85em;margin-bottom:8px">ë¬¸ì¥ì—ì„œ <span
                        style="color:var(--noun);font-weight:700">ìˆ˜ì‹ë°›ëŠ” ëª…ì‚¬</span>ì™€ <span
                        style="color:var(--modifier);font-weight:700">í›„ì¹˜ìˆ˜ì‹ì–´</span>ë¥¼ í´ë¦­ìœ¼ë¡œ ë§ˆí‚¹í•˜ì„¸ìš”.</p>
                <div class="legend">
                    <span><span class="dot dot-noun"></span> ëª…ì‚¬ (í´ë¦­/íƒ­)</span>
                    <span><span class="dot dot-mod"></span> ìˆ˜ì‹ì–´ (ìš°í´ë¦­/ê¾¹ ëˆ„ë¥´ê¸°)</span>
                </div>
                <div class="mode-selector">
                    <div class="chip active" onclick="setDifficulty('all')">ì „ì²´</div>
                    <div class="chip" onclick="setDifficulty('easy')">ğŸŒ± ì‰¬ì›€</div>
                    <div class="chip" onclick="setDifficulty('mid')">ğŸŒ³ ë³´í†µ</div>
                    <div class="chip" onclick="setDifficulty('hard')">ğŸ… ì–´ë ¤ì›€</div>
                </div>
                <div class="progress-bar">
                    <div class="fill" id="id-progress" style="width:0%"></div>
                </div>
            </div>
            <div class="card" id="id-question-card">
                <div style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:8px">
                    <span class="diff-badge" id="id-diff"></span>
                    <span style="font-size:.8em;color:var(--text-muted)" id="id-counter">1 / 200</span>
                </div>
                <div class="sentence-box" id="id-sentence"></div>
                <div class="btn-group">
                    <button class="btn btn-primary" onclick="checkIdentify()">âœ… ì •ë‹µ í™•ì¸</button>
                    <button class="btn btn-outline" onclick="showHint()">ğŸ’¡ íŒíŠ¸</button>
                    <button class="btn btn-outline" onclick="skipSentence()">â© ê±´ë„ˆë›°ê¸°</button>
                </div>
                <div class="feedback" id="id-feedback">
                    <div class="fb-title" id="id-fb-title"></div>
                    <div class="fb-explain" id="id-fb-explain"></div>
                </div>
                <div class="btn-group" id="id-next-group" style="display:none">
                    <button class="btn btn-accent" onclick="nextIdentify()">ë‹¤ìŒ ë¬¸ì¥ â†’</button>
                </div>
            </div>
        </div>

        <!-- ===== ë¶„ë¥˜ ëª¨ë“œ ===== -->
        <div id="tab-classify" class="panel">
            <div class="card">
                <h2>ğŸ·ï¸ ë¶„ë¥˜ ëª¨ë“œ â€” í›„ì¹˜ìˆ˜ì‹ ìœ í˜•ì„ ë§ì¶°ë¼!</h2>
                <p style="color:var(--text-dim);font-size:.85em">í•˜ì´ë¼ì´íŠ¸ëœ êµ¬ì¡°ê°€ 17ê°€ì§€ ìœ í˜• ì¤‘ ì–´ë””ì— í•´ë‹¹í•˜ëŠ”ì§€ ê³¨ë¼ë³´ì„¸ìš”.</p>
                <div class="mode-selector">
                    <div class="chip active" onclick="setClassifyDiff('all')">ì „ì²´</div>
                    <div class="chip" onclick="setClassifyDiff('easy')">ğŸŒ± ì‰¬ì›€</div>
                    <div class="chip" onclick="setClassifyDiff('mid')">ğŸŒ³ ë³´í†µ</div>
                    <div class="chip" onclick="setClassifyDiff('hard')">ğŸ… ì–´ë ¤ì›€</div>
                </div>
                <div class="progress-bar">
                    <div class="fill" id="cl-progress" style="width:0%"></div>
                </div>
            </div>
            <div class="card" id="cl-question-card">
                <span class="diff-badge" id="cl-diff"></span>
                <div class="sentence-box" id="cl-sentence"></div>
                <h3>ì´ êµ¬ì¡°ëŠ” ë¬´ì—‡ì¸ê°€ìš”?</h3>
                <div class="type-grid" id="cl-type-grid"></div>
                <div class="feedback" id="cl-feedback">
                    <div class="fb-title" id="cl-fb-title"></div>
                    <div class="fb-explain" id="cl-fb-explain"></div>
                </div>
                <div class="btn-group" id="cl-next-group" style="display:none">
                    <button class="btn btn-accent" onclick="nextClassify()">ë‹¤ìŒ ë¬¸ì¥ â†’</button>
                </div>
            </div>
        </div>

        <!-- ===== ì»¤ìŠ¤í…€ í…ìŠ¤íŠ¸ ===== -->
        <div id="tab-custom" class="panel">
            <div class="card">
                <h2>ğŸ“ ì»¤ìŠ¤í…€ í…ìŠ¤íŠ¸ â€” ë‚´ ì§€ë¬¸ìœ¼ë¡œ ì—°ìŠµ!</h2>
                <p style="color:var(--text-dim);font-size:.85em;margin-bottom:12px">ëª¨ì˜ê³ ì‚¬, êµê³¼ì„œ, ì–´ë–¤ ì˜ì–´ ì§€ë¬¸ì´ë“  ë¶™ì—¬ë„£ê³  í›„ì¹˜ìˆ˜ì‹ êµ¬ì¡°ë¥¼
                    ì°¾ëŠ” ì—°ìŠµì„ í•˜ì„¸ìš”.</p>
                <textarea class="custom-textarea" id="custom-input"
                    placeholder="ì—¬ê¸°ì— ì˜ì–´ ì§€ë¬¸ì„ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”...&#10;&#10;ì˜ˆ: The scientists who conducted the study found that the results they had anticipated were significantly different from the data collected by their colleagues in the field."></textarea>
                <div class="btn-group">
                    <button class="btn btn-primary" onclick="loadCustomText()">ğŸ“¥ ì§€ë¬¸ ë¶ˆëŸ¬ì˜¤ê¸°</button>
                    <button class="btn btn-outline" onclick="clearCustom()">ğŸ—‘ï¸ ì´ˆê¸°í™”</button>
                </div>
            </div>
            <div class="card" id="custom-practice" style="display:none">
                <h2>ğŸ¯ ì»¤ìŠ¤í…€ ì§€ë¬¸ ì—°ìŠµ</h2>
                <p style="color:var(--text-dim);font-size:.85em">ê° ë¬¸ì¥ì—ì„œ <span style="color:var(--noun)">ëª…ì‚¬</span>ì™€ <span
                        style="color:var(--modifier)">ìˆ˜ì‹ì–´</span>ë¥¼ ì°¾ì•„ë³´ì„¸ìš”. ì„ ìƒë‹˜ì´ ì •ë‹µì„ í™•ì¸í•´ì¤ë‹ˆë‹¤.</p>
                <div class="legend">
                    <span><span class="dot dot-noun"></span> ëª…ì‚¬ (í´ë¦­/íƒ­)</span>
                    <span><span class="dot dot-mod"></span> ìˆ˜ì‹ì–´ (ìš°í´ë¦­/ê¾¹ ëˆ„ë¥´ê¸°)</span>
                </div>
                <div id="custom-sentences"></div>
                <div class="btn-group">
                    <button class="btn btn-success" onclick="exportCustomResult()">ğŸ“‹ ê²°ê³¼ ë³µì‚¬</button>
                </div>
            </div>
        </div>

        <!-- ===== ëŒ€ì‹œë³´ë“œ ===== -->
        <div id="tab-dashboard" class="panel">
            <div class="card">
                <h2>ğŸ“Š í•™ìŠµ ëŒ€ì‹œë³´ë“œ</h2>
                <div class="dash-grid" id="dash-summary"></div>
            </div>
            <div class="card">
                <h3>ìœ í˜•ë³„ ì •ë‹µë¥ </h3>
                <div class="bar-chart" id="dash-type-chart"></div>
            </div>
            <div class="card">
                <h3>ìµœê·¼ ì˜¤ë‹µ ë¬¸ì¥</h3>
                <div id="dash-wrong-list" style="font-size:.85em;color:var(--text-dim)"></div>
            </div>
            <div class="btn-group">
                <button class="btn btn-outline" onclick="resetProgress()">ğŸ”„ ì§„í–‰ë„ ì´ˆê¸°í™”</button>
            </div>
        </div>

        <!-- ===== ì°¸ì¡°í‘œ ===== -->
        <div id="tab-reference" class="panel">
            <div class="card">
                <h2>ğŸ“– í›„ì¹˜ìˆ˜ì‹ 17ìœ í˜• ì°¸ì¡°í‘œ</h2>
                <p style="color:var(--text-dim);font-size:.85em;margin-bottom:12px">ê¸°ì¡´ í•™ìŠµ ìë£Œ ê¸°ë°˜ â€” ëª…ì‚¬ ë’¤ì—ì„œ "ì–´ë–¤?"ì´ë¼ê³  ì§ˆë¬¸í•˜ì„¸ìš”!
                </p>
                <div id="ref-table"></div>
            </div>
        </div>

    </div><!-- end main -->

    <script>
        /* ========== TYPE DEFINITIONS ========== */
        const TYPES = {
            1: { name: "ì „ì¹˜ì‚¬ + ëª…ì‚¬êµ¬", short: "ì „ì¹˜ì‚¬êµ¬", desc: "ìœ„ì¹˜, ë°©ë²•, ëŒ€ìƒ ë“±ì„ ì„¤ëª…í•˜ë©° ì•ì˜ ëª…ì‚¬ë¥¼ ê¾¸ë°ˆ", hint: "ëª…ì‚¬ ë’¤ì— in/on/of/at/from/with ê°™ì€ ì „ì¹˜ì‚¬ê°€ ë‚˜ì˜¤ë©´!", color: "#60a5fa" },
            2: { name: "í˜„ì¬ë¶„ì‚¬êµ¬ (~ing)", short: "í˜„ì¬ë¶„ì‚¬", desc: "ëŠ¥ë™/ì§„í–‰ ì˜ë¯¸: ~í•˜ëŠ”, ~í•˜ê³  ìˆëŠ”", hint: "ëª…ì‚¬ ë’¤ì— -ingê°€ ë‚˜ì˜¤ë©´! ëª…ì‚¬ê°€ ì§ì ‘ í–‰ë™í•˜ëŠ” ì£¼ì²´", color: "#34d399" },
            3: { name: "ê³¼ê±°ë¶„ì‚¬êµ¬ (p.p.)", short: "ê³¼ê±°ë¶„ì‚¬", desc: "ìˆ˜ë™/ì™„ë£Œ ì˜ë¯¸: ~ëœ, ~ë°›ì€", hint: "ëª…ì‚¬ ë’¤ì— p.p.(ê³¼ê±°ë¶„ì‚¬)ê°€ ë‚˜ì˜¤ë©´! ëª…ì‚¬ê°€ í–‰ë™ì„ ë‹¹í•˜ëŠ” ëŒ€ìƒ", color: "#a78bfa" },
            4: { name: "í˜•ìš©ì‚¬ + Î±", short: "í˜•ìš©ì‚¬êµ¬", desc: "í˜•ìš©ì‚¬ì˜ ì˜ë¯¸ë¥¼ ë³´ì¶©í•˜ë©° ì„±ì§ˆ, ìƒíƒœ, ê°€ëŠ¥ì„± ë“±ì„ êµ¬ì²´í™”", hint: "ëª…ì‚¬ ë’¤ì— í˜•ìš©ì‚¬ + toë¶€ì •ì‚¬/ì „ì¹˜ì‚¬êµ¬ê°€ ë‚˜ì˜¤ë©´!", color: "#fbbf24" },
            5: { name: "to ë¶€ì •ì‚¬", short: "toë¶€ì •ì‚¬", desc: "ë¯¸ë˜ ì§€í–¥ì ì´ê±°ë‚˜ ëª©ì /ìš©ë„/ì„±ê²©ì„ ì„¤ëª…", hint: "ëª…ì‚¬ ë’¤ì— to + ë™ì‚¬ì›í˜•ì´ ë‚˜ì˜¤ë©´!", color: "#f472b6" },
            6: { name: "ê´€ê³„ëŒ€ëª…ì‚¬ì ˆ (ì£¼ê²©)", short: "ê´€ê³„ëŒ€ëª…ì‚¬(ì£¼ê²©)", desc: "ì„ í–‰ì‚¬ ì„¤ëª…, ê´€ê³„ëŒ€ëª…ì‚¬ê°€ ì£¼ì–´ ì—­í• ", hint: "ëª…ì‚¬ ë’¤ì— who/which/that + ë™ì‚¬ê°€ ë°”ë¡œ ë‚˜ì˜¤ë©´!", color: "#38bdf8" },
            7: { name: "ê´€ê³„ëŒ€ëª…ì‚¬ì ˆ (ëª©ì ê²© ìƒëµ)", short: "ê´€ê³„ëŒ€ëª…ì‚¬(ëª©ì ê²©)", desc: "ì„ í–‰ì‚¬ ì„¤ëª…, ì ˆ ë‚´ ëª©ì ì–´ê°€ ìƒëµëœ í˜•íƒœ", hint: "âš¡ í•µì‹¬! ëª…ì‚¬ ë’¤ì— ë°”ë¡œ (ì£¼ì–´)+(ë™ì‚¬)ê°€ ë‚˜ì˜¤ë©´ ì´ êµ¬ì¡°ë¥¼ ì˜ì‹¬!", color: "#fb923c" },
            8: { name: "ê´€ê³„ë¶€ì‚¬ì ˆ", short: "ê´€ê³„ë¶€ì‚¬", desc: "ì¥ì†Œ, ì‹œê°„, ì´ìœ , ë°©ë²• ë“± ì„¤ëª…", hint: "ëª…ì‚¬ ë’¤ì— where/when/why/how + ì™„ì „í•œ ë¬¸ì¥ì´ ë‚˜ì˜¤ë©´!", color: "#4ade80" },
            9: { name: "ë™ê²© thatì ˆ", short: "ë™ê²©that", desc: "ì¶”ìƒëª…ì‚¬ ì„¤ëª…: ~ë¼ëŠ” ë‚´ìš© êµ¬ì²´í™”", hint: "fact/news/idea/belief ê°™ì€ ì¶”ìƒëª…ì‚¬ ë’¤ì— that + ì™„ì „í•œ ë¬¸ì¥ì´ ë‚˜ì˜¤ë©´!", color: "#e879f9" },
            10: { name: "of + ~ing êµ¬", short: "of+ing", desc: "í–‰ìœ„ë‚˜ ê°œë…ì„ ëª…ì‚¬í˜•ìœ¼ë¡œ ë§Œë“¤ì–´ ì• ëª…ì‚¬ë¥¼ êµ¬ì²´í™”", hint: "ëª…ì‚¬ ë’¤ì— of + ë™ëª…ì‚¬(~ing)ê°€ ë‚˜ì˜¤ë©´!", color: "#22d3ee" },
            11: { name: "ì „ì¹˜ì‚¬ + ê´€ê³„ëŒ€ëª…ì‚¬ì ˆ", short: "ì „ì¹˜ì‚¬+ê´€ê³„ëŒ€ëª…ì‚¬", desc: "ê²©ì‹ì  í‘œí˜„, ì „ì¹˜ì‚¬ì™€ ê´€ê³„ì‚¬ ê²°í•©", hint: "ëª…ì‚¬ ë’¤ì— in which / to whom ê°™ì€ í˜•íƒœê°€ ë‚˜ì˜¤ë©´!", color: "#818cf8" },
            12: { name: "ì†Œìœ ê²© ê´€ê³„ëŒ€ëª…ì‚¬ (whose)", short: "whoseì ˆ", desc: "ì†Œìœ ê´€ê³„ë¥¼ ë‚˜íƒ€ë‚´ë©° ëª…ì‚¬ ë’¤ ìˆ˜ì‹", hint: "ëª…ì‚¬ ë’¤ì— whose + ëª…ì‚¬ê°€ ë‚˜ì˜¤ë©´!", color: "#fb7185" },
            13: { name: "ë¶€ì‚¬(êµ¬)", short: "ë¶€ì‚¬êµ¬", desc: "ì¼ì‹œì  ìƒí™©ì´ë‚˜ ë§¥ë½ì„ ì œê³µ", hint: "ëª…ì‚¬ ë’¤ì— ì¥ì†Œ/ì‹œê°„ ë¶€ì‚¬(here, outside, yesterday)ê°€ ë‚˜ì˜¤ë©´!", color: "#a3e635" },
            14: { name: "ë™ê²© ëª…ì‚¬êµ¬", short: "ë™ê²©ëª…ì‚¬", desc: "ì• ëª…ì‚¬ë¥¼ êµ¬ì²´ì ìœ¼ë¡œ ì •ì˜í•˜ê±°ë‚˜ ì¶”ê°€ ì •ë³´ ì œê³µ", hint: "ëª…ì‚¬, ì‰¼í‘œ ë’¤ì— ë˜ ë‹¤ë¥¸ ëª…ì‚¬(êµ¬)ê°€ ë‚˜ì˜¤ë©´!", color: "#14b8a6" },
            15: { name: "ë¹„êµ/ìµœìƒê¸‰ êµ¬", short: "ë¹„êµê¸‰êµ¬", desc: "ì •ë„ ë¹„êµ: ~ë³´ë‹¤ ë”, ê°€ì¥ ~í•œ", hint: "ëª…ì‚¬ ë’¤ì— more/less/most ë˜ëŠ” -er/-estê°€ ë‚˜ì˜¤ë©´!", color: "#f59e0b" },
            16: { name: "ìˆ˜ëŸ‰ í‘œí˜„ + of + ëª…ì‚¬", short: "ìˆ˜ëŸ‰of", desc: "~ ì¤‘ ë‹¤ìˆ˜/ì¼ë¶€/ì „ë¶€ ë“± ë¶€ë¶„ ë˜ëŠ” ì „ì²´", hint: "Many/Some/Most ë’¤ì— of + ëª…ì‚¬ê°€ ë‚˜ì˜¤ë©´!", color: "#06b6d4" },
            17: { name: "ëª…ì‚¬ + ìˆ«ì/ìˆ˜ëŸ‰ + Î±", short: "ìˆ˜ëŸ‰Î±", desc: "ëª…ì‚¬ì˜ êµ¬ì²´ì ì¸ ìˆ˜ëŸ‰ì´ë‚˜ ë²”ìœ„ë¥¼ ë‚˜íƒ€ëƒ„", hint: "ëª…ì‚¬ ë’¤ì— ìˆ«ì/ë‹¨ìœ„ + ì „ì¹˜ì‚¬êµ¬ê°€ ë‚˜ì˜¤ë©´!", color: "#d946ef" }
        };

        /* ========== SENTENCE BANK ========== */
        /* n = noun indices, m = modifier indices (word index 0-based) */
        /* d = difficulty: 1=easy, 2=mid, 3=hard */
        /* t = type number (1-17) */
        /* ex = explanation */
        const SENTENCES = [
            // ===== TYPE 1: ì „ì¹˜ì‚¬ + ëª…ì‚¬êµ¬ (15ë¬¸ì¥) =====
            { s: "The book on the desk is mine.", t: 1, d: 1, n: [0, 1], m: [2, 3, 4], ex: "ëª…ì‚¬(The book) ë’¤ì— ì „ì¹˜ì‚¬ onì´ ë‚˜ì™€ì„œ 'the desk ìœ„ì— ìˆëŠ”'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "Students from different countries gathered here.", t: 1, d: 1, n: [0], m: [1, 2, 3], ex: "Students ë’¤ì— fromì´ ë‚˜ì™€ì„œ 'ë‹¤ë¥¸ ë‚˜ë¼ ì¶œì‹ ì˜'ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "The flowers in the garden are beautiful.", t: 1, d: 1, n: [0, 1], m: [2, 3, 4], ex: "The flowers ë’¤ì— inì´ ë‚˜ì™€ì„œ 'ì •ì›ì— ìˆëŠ”'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "A man with a black hat entered the room.", t: 1, d: 1, n: [0, 1], m: [2, 3, 4, 5], ex: "A man ë’¤ì— withê°€ ë‚˜ì™€ì„œ 'ê²€ì€ ëª¨ìë¥¼ ì“´'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "The road to the airport is closed.", t: 1, d: 1, n: [0, 1], m: [2, 3, 4], ex: "The road ë’¤ì— toê°€ ë‚˜ì™€ì„œ 'ê³µí•­ìœ¼ë¡œ ê°€ëŠ”'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "The girl in the red dress smiled at me.", t: 1, d: 1, n: [0, 1], m: [2, 3, 4, 5], ex: "The girl ë’¤ì— inì´ ë‚˜ì™€ì„œ 'ë¹¨ê°„ ë“œë ˆìŠ¤ë¥¼ ì…ì€'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "The coffee on the table was cold.", t: 1, d: 1, n: [0, 1], m: [2, 3, 4], ex: "The coffee ë’¤ì— onì´ ë‚˜ì™€ì„œ 'í…Œì´ë¸” ìœ„ì˜'ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "A letter from my grandmother arrived today.", t: 1, d: 1, n: [0, 1], m: [2, 3, 4], ex: "A letter ë’¤ì— fromì´ ë‚˜ì™€ì„œ 'í• ë¨¸ë‹ˆë¡œë¶€í„° ì˜¨'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "The bridge over the river was built last year.", t: 1, d: 2, n: [0, 1], m: [2, 3, 4], ex: "The bridge ë’¤ì— overê°€ ë‚˜ì™€ì„œ 'ê°• ìœ„ì— ìˆëŠ”'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "The key to success is hard work.", t: 1, d: 2, n: [0, 1], m: [2, 3], ex: "The key ë’¤ì— toê°€ ë‚˜ì™€ì„œ 'ì„±ê³µì˜/ì„±ê³µìœ¼ë¡œ ê°€ëŠ”'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "The price of oil has risen sharply.", t: 1, d: 2, n: [0, 1], m: [2, 3], ex: "The price ë’¤ì— ofê°€ ë‚˜ì™€ì„œ 'ì„ìœ ì˜'ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "Children at the park were playing happily.", t: 1, d: 1, n: [0], m: [1, 2, 3], ex: "Children ë’¤ì— atì´ ë‚˜ì™€ì„œ 'ê³µì›ì— ìˆëŠ”'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "The effect of climate change is visible everywhere.", t: 1, d: 2, n: [0, 1], m: [2, 3, 4], ex: "The effect ë’¤ì— ofê°€ ë‚˜ì™€ì„œ 'ê¸°í›„ ë³€í™”ì˜'ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "The woman behind the counter smiled warmly.", t: 1, d: 1, n: [0, 1], m: [2, 3, 4], ex: "The woman ë’¤ì— behindê°€ ë‚˜ì™€ì„œ 'ì¹´ìš´í„° ë’¤ì— ìˆëŠ”'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "The noise from the construction site was unbearable.", t: 1, d: 2, n: [0, 1], m: [2, 3, 4, 5], ex: "The noise ë’¤ì— fromì´ ë‚˜ì™€ì„œ 'ê³µì‚¬ í˜„ì¥ì—ì„œ ë‚˜ëŠ”'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },

            // ===== TYPE 2: í˜„ì¬ë¶„ì‚¬êµ¬ (15ë¬¸ì¥) =====
            { s: "The man talking to John is my teacher.", t: 2, d: 1, n: [0, 1], m: [2, 3, 4], ex: "The man ë’¤ì— talking(~ing)ì´ ë‚˜ì™€ì„œ 'Johnê³¼ ëŒ€í™”í•˜ê³  ìˆëŠ”'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤. manì´ ì§ì ‘ ë§í•˜ëŠ” ì‚¬ëŒì´ë¯€ë¡œ ëŠ¥ë™(~ing)." },
            { s: "The girl singing on the stage is my sister.", t: 2, d: 1, n: [0, 1], m: [2, 3, 4, 5], ex: "The girl ë’¤ì— singingì´ ë‚˜ì™€ì„œ 'ë¬´ëŒ€ì—ì„œ ë…¸ë˜í•˜ëŠ”'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "The dog running in the park is mine.", t: 2, d: 1, n: [0, 1], m: [2, 3, 4, 5], ex: "The dog ë’¤ì— runningì´ ë‚˜ì˜µë‹ˆë‹¤. ê°œê°€ ì§ì ‘ ë‹¬ë¦¬ëŠ” ê²ƒì´ë¯€ë¡œ ëŠ¥ë™(~ing)." },
            { s: "Anyone wanting to join should sign up now.", t: 2, d: 2, n: [0], m: [1, 2, 3], ex: "Anyone ë’¤ì— wantingì´ ë‚˜ì™€ì„œ 'ì°¸ê°€í•˜ê³  ì‹¶ì–´í•˜ëŠ”'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "The woman wearing glasses is the principal.", t: 2, d: 1, n: [0, 1], m: [2, 3], ex: "The woman ë’¤ì— wearingì´ ë‚˜ì™€ì„œ 'ì•ˆê²½ì„ ì“°ê³  ìˆëŠ”'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "Students studying abroad often face challenges.", t: 2, d: 2, n: [0], m: [1, 2], ex: "Students ë’¤ì— studyingì´ ë‚˜ì™€ì„œ 'í•´ì™¸ì—ì„œ ê³µë¶€í•˜ëŠ”'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "The river flowing through the city is polluted.", t: 2, d: 2, n: [0, 1], m: [2, 3, 4, 5], ex: "The river ë’¤ì— flowingì´ ë‚˜ì™€ì„œ 'ë„ì‹œë¥¼ ê´€í†µí•´ íë¥´ëŠ”'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "The child crying in the corner needs help.", t: 2, d: 1, n: [0, 1], m: [2, 3, 4, 5], ex: "The child ë’¤ì— cryingì´ ë‚˜ì™€ì„œ 'êµ¬ì„ì—ì„œ ìš¸ê³  ìˆëŠ”'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "People living in coastal areas should be careful.", t: 2, d: 2, n: [0], m: [1, 2, 3, 4], ex: "People ë’¤ì— livingì´ ë‚˜ì™€ì„œ 'í•´ì•ˆ ì§€ì—­ì— ì‚¬ëŠ”'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "The car blocking the driveway belongs to Tom.", t: 2, d: 2, n: [0, 1], m: [2, 3, 4], ex: "The car ë’¤ì— blockingì´ ë‚˜ì™€ì„œ 'ì§„ì…ë¡œë¥¼ ë§‰ê³  ìˆëŠ”'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "The boy sitting next to me asked a question.", t: 2, d: 1, n: [0, 1], m: [2, 3, 4, 5], ex: "The boy ë’¤ì— sittingì´ ë‚˜ì™€ì„œ 'ë‚´ ì˜†ì— ì•‰ì•„ ìˆëŠ”'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "The teacher explaining the problem was patient.", t: 2, d: 2, n: [0, 1], m: [2, 3, 4], ex: "The teacher ë’¤ì— explainingì´ ë‚˜ì™€ì„œ 'ë¬¸ì œë¥¼ ì„¤ëª…í•˜ê³  ìˆëŠ”'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "Tourists visiting the museum took many photos.", t: 2, d: 2, n: [0], m: [1, 2, 3], ex: "Tourists ë’¤ì— visitingì´ ë‚˜ì™€ì„œ 'ë°•ë¬¼ê´€ì„ ë°©ë¬¸í•˜ëŠ”'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "The bird sitting on the fence flew away.", t: 2, d: 1, n: [0, 1], m: [2, 3, 4, 5], ex: "The bird ë’¤ì— sittingì´ ë‚˜ì™€ì„œ 'ìš¸íƒ€ë¦¬ ìœ„ì— ì•‰ì•„ ìˆëŠ”'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "The phone ringing loudly woke me up.", t: 2, d: 2, n: [0, 1], m: [2, 3], ex: "The phone ë’¤ì— ringingì´ ë‚˜ì™€ì„œ 'ì‹œë„ëŸ½ê²Œ ìš¸ë¦¬ëŠ”'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },

            // ===== TYPE 3: ê³¼ê±°ë¶„ì‚¬êµ¬ (15ë¬¸ì¥) =====
            { s: "The car repaired by the mechanic runs well.", t: 3, d: 1, n: [0, 1], m: [2, 3, 4, 5], ex: "The car ë’¤ì— ê³¼ê±°ë¶„ì‚¬ repairedê°€ ë‚˜ì˜µë‹ˆë‹¤. ì°¨ê°€ ìˆ˜ë¦¬'ëœ' ê²ƒì´ë¯€ë¡œ ìˆ˜ë™(p.p.)." },
            { s: "The song sung on the stage was beautiful.", t: 3, d: 1, n: [0, 1], m: [2, 3, 4, 5], ex: "The song ë’¤ì— sungì´ ë‚˜ì˜µë‹ˆë‹¤. ë…¸ë˜ê°€ ë¶ˆë¦° ê²ƒì´ë¯€ë¡œ ìˆ˜ë™." },
            { s: "The solution proposed by experts was accepted.", t: 3, d: 2, n: [0, 1], m: [2, 3, 4], ex: "The solution ë’¤ì— proposedê°€ ë‚˜ì˜µë‹ˆë‹¤. í•´ê²°ì±…ì´ ì œì•ˆ'ëœ' ê²ƒì´ë¯€ë¡œ ìˆ˜ë™." },
            { s: "The window broken by the storm was fixed.", t: 3, d: 1, n: [0, 1], m: [2, 3, 4, 5], ex: "The window ë’¤ì— brokenì´ ë‚˜ì˜µë‹ˆë‹¤. ì°½ë¬¸ì´ ê¹¨ì§„ ê²ƒì´ë¯€ë¡œ ìˆ˜ë™." },
            { s: "The letter written in French was hard to read.", t: 3, d: 2, n: [0, 1], m: [2, 3, 4], ex: "The letter ë’¤ì— writtenì´ ë‚˜ì˜µë‹ˆë‹¤. í¸ì§€ê°€ ì“°ì¸ ê²ƒì´ë¯€ë¡œ ìˆ˜ë™." },
            { s: "The food served at the restaurant was delicious.", t: 3, d: 1, n: [0, 1], m: [2, 3, 4, 5], ex: "The food ë’¤ì— servedê°€ ë‚˜ì˜µë‹ˆë‹¤. ìŒì‹ì´ ì œê³µëœ ê²ƒì´ë¯€ë¡œ ìˆ˜ë™." },
            { s: "The bridge built in 1900 still stands today.", t: 3, d: 2, n: [0, 1], m: [2, 3, 4], ex: "The bridge ë’¤ì— builtê°€ ë‚˜ì˜µë‹ˆë‹¤. ë‹¤ë¦¬ê°€ ì§€ì–´ì§„ ê²ƒì´ë¯€ë¡œ ìˆ˜ë™." },
            { s: "The package delivered this morning is on the table.", t: 3, d: 1, n: [0, 1], m: [2, 3, 4], ex: "The package ë’¤ì— deliveredê°€ ë‚˜ì˜µë‹ˆë‹¤. ì†Œí¬ê°€ ë°°ë‹¬ëœ ê²ƒì´ë¯€ë¡œ ìˆ˜ë™." },
            { s: "The painting stolen from the museum was found.", t: 3, d: 2, n: [0, 1], m: [2, 3, 4, 5], ex: "The painting ë’¤ì— stolenì´ ë‚˜ì˜µë‹ˆë‹¤. ê·¸ë¦¼ì´ ë„ë‚œë‹¹í•œ ê²ƒì´ë¯€ë¡œ ìˆ˜ë™." },
            { s: "Languages spoken in Europe are very diverse.", t: 3, d: 2, n: [0], m: [1, 2, 3], ex: "Languages ë’¤ì— spokenì´ ë‚˜ì˜µë‹ˆë‹¤. ì–¸ì–´ê°€ ì‚¬ìš©(ë§í•´)ì§€ëŠ” ê²ƒì´ë¯€ë¡œ ìˆ˜ë™." },
            { s: "The dress designed by her mother was stunning.", t: 3, d: 2, n: [0, 1], m: [2, 3, 4, 5], ex: "The dress ë’¤ì— designedê°€ ë‚˜ì˜µë‹ˆë‹¤. ë“œë ˆìŠ¤ê°€ ë””ìì¸ëœ ê²ƒì´ë¯€ë¡œ ìˆ˜ë™." },
            { s: "The homework assigned by the teacher was easy.", t: 3, d: 2, n: [0, 1], m: [2, 3, 4, 5], ex: "The homework ë’¤ì— assignedê°€ ë‚˜ì˜µë‹ˆë‹¤. ìˆ™ì œê°€ ë°°ì •ëœ ê²ƒì´ë¯€ë¡œ ìˆ˜ë™." },
            { s: "The money saved over the years was spent wisely.", t: 3, d: 2, n: [0, 1], m: [2, 3, 4, 5], ex: "The money ë’¤ì— savedê°€ ë‚˜ì˜µë‹ˆë‹¤. ëˆì´ ì €ì¶•ëœ ê²ƒì´ë¯€ë¡œ ìˆ˜ë™." },
            { s: "The email sent to all employees contained errors.", t: 3, d: 2, n: [0, 1], m: [2, 3, 4, 5], ex: "The email ë’¤ì— sentê°€ ë‚˜ì˜µë‹ˆë‹¤. ì´ë©”ì¼ì´ ë³´ë‚´ì§„ ê²ƒì´ë¯€ë¡œ ìˆ˜ë™." },
            { s: "The tree planted by my grandfather grew tall.", t: 3, d: 1, n: [0, 1], m: [2, 3, 4, 5], ex: "The tree ë’¤ì— plantedê°€ ë‚˜ì˜µë‹ˆë‹¤. ë‚˜ë¬´ê°€ ì‹¬ì–´ì§„ ê²ƒì´ë¯€ë¡œ ìˆ˜ë™." },

            // ===== TYPE 4: í˜•ìš©ì‚¬ + Î± (10ë¬¸ì¥) =====
            { s: "It is a problem difficult to solve.", t: 4, d: 2, n: [3, 4], m: [5, 6, 7], ex: "a problem ë’¤ì— í˜•ìš©ì‚¬ difficult + to solveê°€ ë‚˜ì™€ì„œ 'í’€ê¸° ì–´ë ¤ìš´'ì´ë¼ê³  ë³´ì¶© ì„¤ëª…í•©ë‹ˆë‹¤." },
            { s: "Give me something cold to drink.", t: 4, d: 1, n: [2, 3], m: [4, 5, 6], ex: "something ë’¤ì— í˜•ìš©ì‚¬ cold + to drinkê°€ ë‚˜ì™€ì„œ 'ë§ˆì‹¤ ì°¨ê°€ìš´'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "She needs a bag big enough for her laptop.", t: 4, d: 2, n: [3, 4], m: [5, 6, 7, 8, 9], ex: "a bag ë’¤ì— í˜•ìš©ì‚¬ big enough + for her laptopì´ ë‚˜ì™€ì„œ 'ë…¸íŠ¸ë¶ì´ ë“¤ì–´ê°ˆ ë§Œí¼ í°'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "He is a person easy to get along with.", t: 4, d: 2, n: [3, 4], m: [5, 6, 7, 8, 9], ex: "a person ë’¤ì— easy + to get along withê°€ ë‚˜ì™€ì„œ 'ì–´ìš¸ë¦¬ê¸° ì‰¬ìš´'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "We found a place suitable for the event.", t: 4, d: 2, n: [3, 4], m: [5, 6, 7, 8], ex: "a place ë’¤ì— suitable + for the eventê°€ ë‚˜ì™€ì„œ 'í–‰ì‚¬ì— ì í•©í•œ'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "She wants a dress similar to that one.", t: 4, d: 2, n: [3, 4], m: [5, 6, 7, 8], ex: "a dress ë’¤ì— similar + to that oneì´ ë‚˜ì™€ì„œ 'ì €ê²ƒê³¼ ë¹„ìŠ·í•œ'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "There is nothing wrong with your answer.", t: 4, d: 2, n: [2, 3], m: [4, 5, 6, 7], ex: "nothing ë’¤ì— wrong + with your answerê°€ ë‚˜ì™€ì„œ 'ë„ˆì˜ ë‹µì— í‹€ë¦°'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "I need a box large enough to hold all the books.", t: 4, d: 2, n: [3, 4], m: [5, 6, 7, 8, 9, 10, 11], ex: "a box ë’¤ì— large enough + to hold all the booksê°€ ë‚˜ì™€ì„œ 'ëª¨ë“  ì±…ì„ ë‹´ì„ ë§Œí¼ í°'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "This is a topic relevant to our discussion.", t: 4, d: 2, n: [3, 4], m: [5, 6, 7, 8], ex: "a topic ë’¤ì— relevant + to our discussionì´ ë‚˜ì™€ì„œ 'ìš°ë¦¬ í† ë¡ ê³¼ ê´€ë ¨ëœ'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "She wore a hat full of colorful flowers.", t: 4, d: 2, n: [3, 4], m: [5, 6, 7, 8], ex: "a hat ë’¤ì— full + of colorful flowersê°€ ë‚˜ì™€ì„œ 'í™”ë ¤í•œ ê½ƒìœ¼ë¡œ ê°€ë“í•œ'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },

            // ===== TYPE 5: to ë¶€ì •ì‚¬ (12ë¬¸ì¥) =====
            { s: "I have no friends to play with.", t: 5, d: 1, n: [2, 3], m: [4, 5, 6], ex: "no friends ë’¤ì— to play withê°€ ë‚˜ì™€ì„œ 'í•¨ê»˜ ë†€'ì´ë¼ê³  ëª©ì /ìš©ë„ë¥¼ ì„¤ëª…í•©ë‹ˆë‹¤." },
            { s: "She needs time to think about it.", t: 5, d: 1, n: [2], m: [3, 4, 5, 6], ex: "time ë’¤ì— to thinkê°€ ë‚˜ì™€ì„œ 'ìƒê°í• 'ì´ë¼ê³  ëª©ì ì„ ì„¤ëª…í•©ë‹ˆë‹¤." },
            { s: "He has the ability to lead a team.", t: 5, d: 2, n: [2, 3], m: [4, 5, 6, 7], ex: "the ability ë’¤ì— to leadê°€ ë‚˜ì™€ì„œ 'íŒ€ì„ ì´ëŒ'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "Give me a chance to explain myself.", t: 5, d: 1, n: [3, 4], m: [5, 6, 7], ex: "a chance ë’¤ì— to explainì´ ë‚˜ì™€ì„œ 'ì„¤ëª…í• 'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "There is no reason to worry about it.", t: 5, d: 1, n: [2, 3], m: [4, 5, 6, 7], ex: "no reason ë’¤ì— to worryê°€ ë‚˜ì™€ì„œ 'ê±±ì •í• 'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "She made a decision to study abroad.", t: 5, d: 2, n: [3, 4], m: [5, 6, 7], ex: "a decision ë’¤ì— to study abroadê°€ ë‚˜ì™€ì„œ 'ìœ í•™í• 'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "I need a pen to write with.", t: 5, d: 1, n: [3, 4], m: [5, 6, 7], ex: "a pen ë’¤ì— to write withê°€ ë‚˜ì™€ì„œ 'ì“¸'ì´ë¼ê³  ìš©ë„ë¥¼ ì„¤ëª…í•©ë‹ˆë‹¤." },
            { s: "He is the right person to ask for help.", t: 5, d: 2, n: [3, 4, 5], m: [6, 7, 8, 9], ex: "the right person ë’¤ì— to ask for helpê°€ ë‚˜ì™€ì„œ 'ë„ì›€ì„ ìš”ì²­í• 'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "This is the best way to solve the problem.", t: 5, d: 2, n: [3, 4, 5], m: [6, 7, 8, 9], ex: "the best way ë’¤ì— to solveê°€ ë‚˜ì™€ì„œ 'ë¬¸ì œë¥¼ í’€'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "She was the first woman to climb that mountain.", t: 5, d: 2, n: [3, 4, 5], m: [6, 7, 8, 9], ex: "the first woman ë’¤ì— to climbì´ ë‚˜ì™€ì„œ 'ê·¸ ì‚°ì„ ì˜¤ë¥¸'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "We have a lot of work to do today.", t: 5, d: 1, n: [4, 5], m: [6, 7, 8], ex: "work ë’¤ì— to doê°€ ë‚˜ì™€ì„œ 'ì˜¤ëŠ˜ í• 'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "He found a place to park his car.", t: 5, d: 1, n: [3, 4], m: [5, 6, 7, 8], ex: "a place ë’¤ì— to parkê°€ ë‚˜ì™€ì„œ 'ì°¨ë¥¼ ì„¸ìš¸'ì´ë¼ê³  ê¾¸ë©°ì¤ë‹ˆë‹¤." },

            // ===== TYPE 6: ê´€ê³„ëŒ€ëª…ì‚¬ ì£¼ê²© (15ë¬¸ì¥) =====
            { s: "The woman who lives next door is a doctor.", t: 6, d: 1, n: [0, 1], m: [2, 3, 4, 5], ex: "The woman ë’¤ì— who + ë™ì‚¬(lives)ê°€ ë°”ë¡œ ë‚˜ì˜µë‹ˆë‹¤. whoê°€ ì£¼ì–´ ì—­í•  â†’ ì£¼ê²© ê´€ê³„ëŒ€ëª…ì‚¬ì ˆ." },
            { s: "The boy who won the race celebrated loudly.", t: 6, d: 1, n: [0, 1], m: [2, 3, 4, 5], ex: "The boy ë’¤ì— who + won(ë™ì‚¬)ì´ ë°”ë¡œ ë‚˜ì˜µë‹ˆë‹¤. ì£¼ê²© ê´€ê³„ëŒ€ëª…ì‚¬." },
            { s: "The dog that barks at night annoys everyone.", t: 6, d: 1, n: [0, 1], m: [2, 3, 4, 5], ex: "The dog ë’¤ì— that + barks(ë™ì‚¬)ê°€ ë°”ë¡œ ë‚˜ì˜µë‹ˆë‹¤. ì£¼ê²© ê´€ê³„ëŒ€ëª…ì‚¬." },
            { s: "I know the girl who plays the violin.", t: 6, d: 1, n: [3, 4], m: [5, 6, 7, 8], ex: "the girl ë’¤ì— who + plays(ë™ì‚¬)ê°€ ë°”ë¡œ ë‚˜ì˜µë‹ˆë‹¤. ì£¼ê²© ê´€ê³„ëŒ€ëª…ì‚¬." },
            { s: "The teacher who taught us math retired last year.", t: 6, d: 2, n: [0, 1], m: [2, 3, 4, 5], ex: "The teacher ë’¤ì— who + taught(ë™ì‚¬)ê°€ ë°”ë¡œ ë‚˜ì˜µë‹ˆë‹¤." },
            { s: "The cat that sleeps on the sofa is very old.", t: 6, d: 1, n: [0, 1], m: [2, 3, 4, 5, 6], ex: "The cat ë’¤ì— that + sleeps(ë™ì‚¬)ê°€ ë°”ë¡œ ë‚˜ì˜µë‹ˆë‹¤." },
            { s: "People who exercise regularly tend to be healthier.", t: 6, d: 2, n: [0], m: [1, 2, 3], ex: "People ë’¤ì— who + exercise(ë™ì‚¬)ê°€ ë‚˜ì˜µë‹ˆë‹¤. ì£¼ê²© ê´€ê³„ëŒ€ëª…ì‚¬." },
            { s: "The artist who painted this picture is famous.", t: 6, d: 2, n: [0, 1], m: [2, 3, 4, 5], ex: "The artist ë’¤ì— who + painted(ë™ì‚¬)ê°€ ë°”ë¡œ ë‚˜ì˜µë‹ˆë‹¤." },
            { s: "The machine that makes coffee is broken.", t: 6, d: 1, n: [0, 1], m: [2, 3, 4], ex: "The machine ë’¤ì— that + makes(ë™ì‚¬)ê°€ ë°”ë¡œ ë‚˜ì˜µë‹ˆë‹¤." },
            { s: "Students who study hard usually get good grades.", t: 6, d: 2, n: [0], m: [1, 2, 3], ex: "Students ë’¤ì— who + study(ë™ì‚¬)ê°€ ë‚˜ì˜µë‹ˆë‹¤. ì£¼ê²© ê´€ê³„ëŒ€ëª…ì‚¬." },
            { s: "The book which changed my life was a gift.", t: 6, d: 2, n: [0, 1], m: [2, 3, 4, 5], ex: "The book ë’¤ì— which + changed(ë™ì‚¬)ê°€ ë°”ë¡œ ë‚˜ì˜µë‹ˆë‹¤. ì£¼ê²© ê´€ê³„ëŒ€ëª…ì‚¬." },
            { s: "The river that flows through Seoul is the Han.", t: 6, d: 2, n: [0, 1], m: [2, 3, 4, 5], ex: "The river ë’¤ì— that + flows(ë™ì‚¬)ê°€ ë°”ë¡œ ë‚˜ì˜µë‹ˆë‹¤." },
            { s: "The man who called you was my brother.", t: 6, d: 1, n: [0, 1], m: [2, 3, 4], ex: "The man ë’¤ì— who + called(ë™ì‚¬)ê°€ ë°”ë¡œ ë‚˜ì˜µë‹ˆë‹¤. ì£¼ê²© ê´€ê³„ëŒ€ëª…ì‚¬." },
            { s: "The company which produces electric cars is growing.", t: 6, d: 2, n: [0, 1], m: [2, 3, 4, 5], ex: "The company ë’¤ì— which + produces(ë™ì‚¬)ê°€ ë°”ë¡œ ë‚˜ì˜µë‹ˆë‹¤." },
            { s: "Anyone who needs help can ask me.", t: 6, d: 2, n: [0], m: [1, 2, 3], ex: "Anyone ë’¤ì— who + needs(ë™ì‚¬)ê°€ ë‚˜ì˜µë‹ˆë‹¤. ì£¼ê²© ê´€ê³„ëŒ€ëª…ì‚¬." },

            // ===== TYPE 7: ê´€ê³„ëŒ€ëª…ì‚¬ ëª©ì ê²© ìƒëµ (25ë¬¸ì¥ â€” ì§‘ì¤‘!) =====
            { s: "The movie I watched yesterday was fantastic.", t: 7, d: 1, n: [0, 1], m: [2, 3, 4], ex: "âš¡ The movie ë’¤ì— ì£¼ì–´(I) + ë™ì‚¬(watched)ê°€ ë°”ë¡œ ë‚˜ì™”ì£ ? ê´€ê³„ëŒ€ëª…ì‚¬(that/which)ê°€ ìƒëµëì–´ìš”! The movie (that) I watched yesterday." },
            { s: "The song she sang was beautiful.", t: 7, d: 1, n: [0, 1], m: [2, 3], ex: "âš¡ The song ë’¤ì— ì£¼ì–´(she) + ë™ì‚¬(sang)ê°€ ë°”ë¡œ! ê´€ê³„ëŒ€ëª…ì‚¬ ìƒëµ. The song (that) she sang." },
            { s: "The cake my mother made was delicious.", t: 7, d: 1, n: [0, 1], m: [2, 3, 4], ex: "âš¡ The cake ë’¤ì— ì£¼ì–´(my mother) + ë™ì‚¬(made)ê°€ ë°”ë¡œ! The cake (that) my mother made." },
            { s: "The person you met at the party is my cousin.", t: 7, d: 1, n: [0, 1], m: [2, 3, 4, 5, 6], ex: "âš¡ The person ë’¤ì— you(ì£¼ì–´) + met(ë™ì‚¬)ê°€ ë°”ë¡œ! The person (whom) you met at the party." },
            { s: "The dress she wore to the wedding looked amazing.", t: 7, d: 2, n: [0, 1], m: [2, 3, 4, 5, 6], ex: "âš¡ The dress ë’¤ì— she(ì£¼ì–´) + wore(ë™ì‚¬)ê°€ ë°”ë¡œ! The dress (that) she wore." },
            { s: "The answer he gave was completely wrong.", t: 7, d: 1, n: [0, 1], m: [2, 3], ex: "âš¡ The answer ë’¤ì— he(ì£¼ì–´) + gave(ë™ì‚¬)ê°€ ë°”ë¡œ! The answer (that) he gave." },
            { s: "The food we ordered arrived quickly.", t: 7, d: 1, n: [0, 1], m: [2, 3], ex: "âš¡ The food ë’¤ì— we(ì£¼ì–´) + ordered(ë™ì‚¬)ê°€ ë°”ë¡œ! The food (that) we ordered." },
            { s: "The book I borrowed from the library is overdue.", t: 7, d: 2, n: [0, 1], m: [2, 3, 4, 5, 6], ex: "âš¡ The book ë’¤ì— I(ì£¼ì–´) + borrowed(ë™ì‚¬)ê°€ ë°”ë¡œ! The book (that) I borrowed from the library." },
            { s: "The car they bought last month already broke down.", t: 7, d: 2, n: [0, 1], m: [2, 3, 4, 5], ex: "âš¡ The car ë’¤ì— they(ì£¼ì–´) + bought(ë™ì‚¬)ê°€ ë°”ë¡œ! ê´€ê³„ëŒ€ëª…ì‚¬ ìƒëµ." },
            { s: "The teacher we had in middle school was kind.", t: 7, d: 2, n: [0, 1], m: [2, 3, 4, 5, 6], ex: "âš¡ The teacher ë’¤ì— we(ì£¼ì–´) + had(ë™ì‚¬)ê°€ ë°”ë¡œ! ê´€ê³„ëŒ€ëª…ì‚¬ ìƒëµ." },
            { s: "The gift she received made her very happy.", t: 7, d: 1, n: [0, 1], m: [2, 3], ex: "âš¡ The gift ë’¤ì— she(ì£¼ì–´) + received(ë™ì‚¬)ê°€ ë°”ë¡œ! ê´€ê³„ëŒ€ëª…ì‚¬ ìƒëµ." },
            { s: "The place we visited was breathtaking.", t: 7, d: 1, n: [0, 1], m: [2, 3], ex: "âš¡ The place ë’¤ì— we(ì£¼ì–´) + visited(ë™ì‚¬)ê°€ ë°”ë¡œ! ê´€ê³„ëŒ€ëª…ì‚¬ ìƒëµ." },
            { s: "The man you talked to is the manager.", t: 7, d: 2, n: [0, 1], m: [2, 3, 4], ex: "âš¡ The man ë’¤ì— you(ì£¼ì–´) + talked(ë™ì‚¬)ê°€ ë°”ë¡œ! The man (whom) you talked to." },
            { s: "The test I took was harder than I expected.", t: 7, d: 2, n: [0, 1], m: [2, 3], ex: "âš¡ The test ë’¤ì— I(ì£¼ì–´) + took(ë™ì‚¬)ê°€ ë°”ë¡œ! ê´€ê³„ëŒ€ëª…ì‚¬ ìƒëµ." },
            { s: "The house they sold was over a hundred years old.", t: 7, d: 2, n: [0, 1], m: [2, 3], ex: "âš¡ The house ë’¤ì— they(ì£¼ì–´) + sold(ë™ì‚¬)ê°€ ë°”ë¡œ! ê´€ê³„ëŒ€ëª…ì‚¬ ìƒëµ." },
            { s: "The news he told me was shocking.", t: 7, d: 1, n: [0, 1], m: [2, 3, 4], ex: "âš¡ The news ë’¤ì— he(ì£¼ì–´) + told(ë™ì‚¬)ê°€ ë°”ë¡œ! ê´€ê³„ëŒ€ëª…ì‚¬ ìƒëµ." },
            { s: "The homework the teacher assigned was too long.", t: 7, d: 2, n: [0, 1], m: [2, 3, 4], ex: "âš¡ The homework ë’¤ì— the teacher(ì£¼ì–´) + assigned(ë™ì‚¬)ê°€ ë°”ë¡œ! ê´€ê³„ëŒ€ëª…ì‚¬ ìƒëµ." },
            { s: "The pictures I took during the trip turned out great.", t: 7, d: 2, n: [0, 1], m: [2, 3, 4, 5, 6], ex: "âš¡ The pictures ë’¤ì— I(ì£¼ì–´) + took(ë™ì‚¬)ê°€ ë°”ë¡œ! ê´€ê³„ëŒ€ëª…ì‚¬ ìƒëµ." },
            { s: "The seat you are sitting in is mine.", t: 7, d: 2, n: [0, 1], m: [2, 3, 4, 5], ex: "âš¡ The seat ë’¤ì— you(ì£¼ì–´) + are sitting(ë™ì‚¬)ê°€ ë°”ë¡œ! ê´€ê³„ëŒ€ëª…ì‚¬ ìƒëµ." },
            { s: "The story she told us made everyone laugh.", t: 7, d: 1, n: [0, 1], m: [2, 3, 4], ex: "âš¡ The story ë’¤ì— she(ì£¼ì–´) + told(ë™ì‚¬)ê°€ ë°”ë¡œ! ê´€ê³„ëŒ€ëª…ì‚¬ ìƒëµ." },
            { s: "The skills you learn in school are important.", t: 7, d: 2, n: [0, 1], m: [2, 3, 4, 5], ex: "âš¡ The skills ë’¤ì— you(ì£¼ì–´) + learn(ë™ì‚¬)ê°€ ë°”ë¡œ! ê´€ê³„ëŒ€ëª…ì‚¬ ìƒëµ." },
            { s: "The advice my parents gave me was helpful.", t: 7, d: 2, n: [0, 1], m: [2, 3, 4, 5], ex: "âš¡ The advice ë’¤ì— my parents(ì£¼ì–´) + gave(ë™ì‚¬)ê°€ ë°”ë¡œ! ê´€ê³„ëŒ€ëª…ì‚¬ ìƒëµ." },
            { s: "The problems we face today are complex.", t: 7, d: 2, n: [0, 1], m: [2, 3, 4], ex: "âš¡ The problems ë’¤ì— we(ì£¼ì–´) + face(ë™ì‚¬)ê°€ ë°”ë¡œ! ê´€ê³„ëŒ€ëª…ì‚¬ ìƒëµ." },
            { s: "The music they play at the cafe is relaxing.", t: 7, d: 2, n: [0, 1], m: [2, 3, 4, 5, 6], ex: "âš¡ The music ë’¤ì— they(ì£¼ì–´) + play(ë™ì‚¬)ê°€ ë°”ë¡œ! ê´€ê³„ëŒ€ëª…ì‚¬ ìƒëµ." },
            { s: "The message you sent was received.", t: 7, d: 1, n: [0, 1], m: [2, 3], ex: "âš¡ The message ë’¤ì— you(ì£¼ì–´) + sent(ë™ì‚¬)ê°€ ë°”ë¡œ! ê´€ê³„ëŒ€ëª…ì‚¬ ìƒëµ." },

            // ===== TYPE 8: ê´€ê³„ë¶€ì‚¬ì ˆ (10ë¬¸ì¥) =====
            { s: "I remember the day when we first met.", t: 8, d: 1, n: [2, 3], m: [4, 5, 6, 7], ex: "the day ë’¤ì— when + ì™„ì „í•œ ë¬¸ì¥(we first met)ì´ ë‚˜ì˜µë‹ˆë‹¤. ì‹œê°„ì˜ ê´€ê³„ë¶€ì‚¬." },
            { s: "This is the place where we stayed last summer.", t: 8, d: 1, n: [3, 4], m: [5, 6, 7, 8, 9], ex: "the place ë’¤ì— where + ì™„ì „í•œ ë¬¸ì¥ì´ ë‚˜ì˜µë‹ˆë‹¤. ì¥ì†Œì˜ ê´€ê³„ë¶€ì‚¬." },
            { s: "The reason why he left is unclear.", t: 8, d: 2, n: [0, 1], m: [2, 3, 4], ex: "The reason ë’¤ì— why + ì™„ì „í•œ ë¬¸ì¥(he left)ì´ ë‚˜ì˜µë‹ˆë‹¤. ì´ìœ ì˜ ê´€ê³„ë¶€ì‚¬." },
            { s: "I know the restaurant where they serve great pasta.", t: 8, d: 2, n: [3, 4], m: [5, 6, 7, 8, 9], ex: "the restaurant ë’¤ì— where + ì™„ì „í•œ ë¬¸ì¥ì´ ë‚˜ì˜µë‹ˆë‹¤." },
            { s: "Do you remember the time when we got lost?", t: 8, d: 2, n: [4, 5], m: [6, 7, 8, 9], ex: "the time ë’¤ì— when + ì™„ì „í•œ ë¬¸ì¥ì´ ë‚˜ì˜µë‹ˆë‹¤." },
            { s: "This is the town where I grew up.", t: 8, d: 1, n: [3, 4], m: [5, 6, 7, 8], ex: "the town ë’¤ì— where + ì™„ì „í•œ ë¬¸ì¥(I grew up)ì´ ë‚˜ì˜µë‹ˆë‹¤." },
            { s: "I love the way he explains things.", t: 8, d: 2, n: [3, 4], m: [5, 6, 7], ex: "the way ë’¤ì— ì™„ì „í•œ ë¬¸ì¥(he explains things)ì´ ë‚˜ì˜µë‹ˆë‹¤. ë°©ë²•ì˜ ê´€ê³„ë¶€ì‚¬(how ìƒëµ)." },
            { s: "The moment when he scored was unforgettable.", t: 8, d: 2, n: [0, 1], m: [2, 3, 4], ex: "The moment ë’¤ì— when + he scoredê°€ ë‚˜ì˜µë‹ˆë‹¤. ì‹œê°„ì˜ ê´€ê³„ë¶€ì‚¬." },
            { s: "She showed me the room where she studies.", t: 8, d: 1, n: [4, 5], m: [6, 7, 8], ex: "the room ë’¤ì— where + ì™„ì „í•œ ë¬¸ì¥ì´ ë‚˜ì˜µë‹ˆë‹¤." },
            { s: "The era when dinosaurs lived was millions of years ago.", t: 8, d: 2, n: [0, 1], m: [2, 3, 4], ex: "The era ë’¤ì— when + ì™„ì „í•œ ë¬¸ì¥(dinosaurs lived)ì´ ë‚˜ì˜µë‹ˆë‹¤." },

            // ===== TYPE 9: ë™ê²© thatì ˆ (10ë¬¸ì¥) =====
            { s: "The news that he won the award surprised everyone.", t: 9, d: 2, n: [0, 1], m: [2, 3, 4, 5, 6], ex: "ì¶”ìƒëª…ì‚¬ The news ë’¤ì— that + ì™„ì „í•œ ë¬¸ì¥ì´ ë‚˜ì˜µë‹ˆë‹¤. 'ê·¸ê°€ ìƒì„ íƒ”ë‹¤ëŠ”' ì†Œì‹. ë™ê²© thatì ˆ." },
            { s: "The fact that she lied was disappointing.", t: 9, d: 2, n: [0, 1], m: [2, 3, 4], ex: "The fact ë’¤ì— that + ì™„ì „í•œ ë¬¸ì¥. 'ê·¸ë…€ê°€ ê±°ì§“ë§í–ˆë‹¤ëŠ”' ì‚¬ì‹¤." },
            { s: "The idea that money brings happiness is wrong.", t: 9, d: 2, n: [0, 1], m: [2, 3, 4, 5], ex: "The idea ë’¤ì— that + ì™„ì „í•œ ë¬¸ì¥. 'ëˆì´ í–‰ë³µì„ ê°€ì ¸ì˜¨ë‹¤ëŠ”' ìƒê°." },
            { s: "The belief that hard work leads to success is common.", t: 9, d: 2, n: [0, 1], m: [2, 3, 4, 5, 6, 7], ex: "The belief ë’¤ì— that + ì™„ì „í•œ ë¬¸ì¥. 'ë…¸ë ¥ì´ ì„±ê³µìœ¼ë¡œ ì´ëˆë‹¤ëŠ”' ë¯¿ìŒ." },
            { s: "The rumor that they are getting married spread fast.", t: 9, d: 2, n: [0, 1], m: [2, 3, 4, 5, 6], ex: "The rumor ë’¤ì— that + ì™„ì „í•œ ë¬¸ì¥. 'ê·¸ë“¤ì´ ê²°í˜¼í•œë‹¤ëŠ”' ì†Œë¬¸." },
            { s: "The possibility that it might rain worried us.", t: 9, d: 3, n: [0, 1], m: [2, 3, 4, 5], ex: "The possibility ë’¤ì— that + ì™„ì „í•œ ë¬¸ì¥. 'ë¹„ê°€ ì˜¬ ìˆ˜ë„ ìˆë‹¤ëŠ”' ê°€ëŠ¥ì„±." },
            { s: "The hope that things will improve keeps us going.", t: 9, d: 2, n: [0, 1], m: [2, 3, 4, 5], ex: "The hope ë’¤ì— that + ì™„ì „í•œ ë¬¸ì¥. 'ìƒí™©ì´ ë‚˜ì•„ì§ˆ ê²ƒì´ë¼ëŠ”' í¬ë§." },
            { s: "The evidence that he was innocent was strong.", t: 9, d: 3, n: [0, 1], m: [2, 3, 4, 5], ex: "The evidence ë’¤ì— that + ì™„ì „í•œ ë¬¸ì¥. 'ê·¸ê°€ ë¬´ì£„ë¼ëŠ”' ì¦ê±°." },
            { s: "The theory that the earth is round was once controversial.", t: 9, d: 3, n: [0, 1], m: [2, 3, 4, 5, 6], ex: "The theory ë’¤ì— that + ì™„ì „í•œ ë¬¸ì¥. 'ì§€êµ¬ê°€ ë‘¥ê¸€ë‹¤ëŠ”' ì´ë¡ ." },
            { s: "The promise that he would return kept her waiting.", t: 9, d: 3, n: [0, 1], m: [2, 3, 4, 5], ex: "The promise ë’¤ì— that + ì™„ì „í•œ ë¬¸ì¥. 'ê·¸ê°€ ëŒì•„ì˜¤ê² ë‹¤ëŠ”' ì•½ì†." },

            // ===== TYPE 10: of + ~ing êµ¬ (8ë¬¸ì¥) =====
            { s: "The idea of traveling around the world excites me.", t: 10, d: 2, n: [0, 1], m: [2, 3, 4, 5, 6], ex: "The idea ë’¤ì— of + traveling(ë™ëª…ì‚¬)ì´ ë‚˜ì™€ì„œ 'ì„¸ê³„ë¥¼ ì—¬í–‰í•œë‹¤ëŠ”' ìƒê°." },
            { s: "The process of learning a language takes time.", t: 10, d: 2, n: [0, 1], m: [2, 3, 4, 5], ex: "The process ë’¤ì— of + learningì´ ë‚˜ì™€ì„œ 'ì–¸ì–´ë¥¼ ë°°ìš°ëŠ”' ê³¼ì •." },
            { s: "The habit of reading before bed is healthy.", t: 10, d: 2, n: [0, 1], m: [2, 3, 4, 5], ex: "The habit ë’¤ì— of + readingì´ ë‚˜ì™€ì„œ 'ìê¸° ì „ì— ì½ëŠ”' ìŠµê´€." },
            { s: "The risk of investing in stocks is high.", t: 10, d: 2, n: [0, 1], m: [2, 3, 4, 5], ex: "The risk ë’¤ì— of + investingì´ ë‚˜ì™€ì„œ 'ì£¼ì‹ì— íˆ¬ìí•˜ëŠ”' ìœ„í—˜." },
            { s: "The joy of helping others is immeasurable.", t: 10, d: 2, n: [0, 1], m: [2, 3, 4], ex: "The joy ë’¤ì— of + helpingì´ ë‚˜ì™€ì„œ 'ë‹¤ë¥¸ ì‚¬ëŒì„ ë•ëŠ”' ê¸°ì¨." },
            { s: "The fear of speaking in public is common.", t: 10, d: 2, n: [0, 1], m: [2, 3, 4, 5], ex: "The fear ë’¤ì— of + speakingì´ ë‚˜ì™€ì„œ 'ëŒ€ì¤‘ ì•ì—ì„œ ë§í•˜ëŠ”' ë‘ë ¤ì›€." },
            { s: "The advantage of waking up early is more free time.", t: 10, d: 2, n: [0, 1], m: [2, 3, 4, 5], ex: "The advantage ë’¤ì— of + wakingì´ ë‚˜ì˜µë‹ˆë‹¤." },
            { s: "The cost of living in Seoul has increased.", t: 10, d: 2, n: [0, 1], m: [2, 3, 4, 5], ex: "The cost ë’¤ì— of + livingì´ ë‚˜ì™€ì„œ 'ì„œìš¸ì—ì„œ ì‚¬ëŠ”' ë¹„ìš©." },

            // ===== TYPE 11: ì „ì¹˜ì‚¬ + ê´€ê³„ëŒ€ëª…ì‚¬ (8ë¬¸ì¥) =====
            { s: "This is the house in which I grew up.", t: 11, d: 3, n: [3, 4], m: [5, 6, 7, 8, 9], ex: "the house ë’¤ì— in which + ì™„ì „í•œ ë¬¸ì¥ì´ ë‚˜ì˜µë‹ˆë‹¤. ê²©ì‹ì  í‘œí˜„." },
            { s: "The person to whom I spoke was very kind.", t: 11, d: 3, n: [0, 1], m: [2, 3, 4, 5], ex: "The person ë’¤ì— to whomì´ ë‚˜ì˜µë‹ˆë‹¤. ê²©ì‹ì  í‘œí˜„." },
            { s: "The topic about which he spoke was interesting.", t: 11, d: 3, n: [0, 1], m: [2, 3, 4, 5], ex: "The topic ë’¤ì— about whichê°€ ë‚˜ì˜µë‹ˆë‹¤." },
            { s: "The company for which she works is well known.", t: 11, d: 3, n: [0, 1], m: [2, 3, 4, 5], ex: "The company ë’¤ì— for whichê°€ ë‚˜ì˜µë‹ˆë‹¤." },
            { s: "The chair on which he sat was uncomfortable.", t: 11, d: 3, n: [0, 1], m: [2, 3, 4, 5], ex: "The chair ë’¤ì— on whichê°€ ë‚˜ì˜µë‹ˆë‹¤." },
            { s: "The city in which the conference was held is Paris.", t: 11, d: 3, n: [0, 1], m: [2, 3, 4, 5, 6, 7], ex: "The city ë’¤ì— in which + ì™„ì „í•œ ë¬¸ì¥ì´ ë‚˜ì˜µë‹ˆë‹¤." },
            { s: "The friend with whom I traveled is from Spain.", t: 11, d: 3, n: [0, 1], m: [2, 3, 4, 5], ex: "The friend ë’¤ì— with whomì´ ë‚˜ì˜µë‹ˆë‹¤." },
            { s: "The reason for which he was punished was clear.", t: 11, d: 3, n: [0, 1], m: [2, 3, 4, 5, 6], ex: "The reason ë’¤ì— for whichê°€ ë‚˜ì˜µë‹ˆë‹¤." },

            // ===== TYPE 12: whose (8ë¬¸ì¥) =====
            { s: "The student whose backpack was stolen reported it.", t: 12, d: 2, n: [0, 1], m: [2, 3, 4, 5], ex: "The student ë’¤ì— whose + ëª…ì‚¬(backpack)ê°€ ë‚˜ì˜µë‹ˆë‹¤. 'ê·¸ì˜ ê°€ë°©ì´ ë„ë‚œë‹¹í•œ' í•™ìƒ." },
            { s: "I met a man whose daughter is a famous singer.", t: 12, d: 2, n: [3, 4], m: [5, 6, 7, 8, 9, 10], ex: "a man ë’¤ì— whose + daughterê°€ ë‚˜ì˜µë‹ˆë‹¤. 'ë”¸ì´ ìœ ëª…í•œ ê°€ìˆ˜ì¸' ë‚¨ì." },
            { s: "The house whose roof was damaged has been fixed.", t: 12, d: 2, n: [0, 1], m: [2, 3, 4, 5], ex: "The house ë’¤ì— whose + roofê°€ ë‚˜ì˜µë‹ˆë‹¤. 'ì§€ë¶•ì´ ì†ìƒëœ' ì§‘." },
            { s: "The woman whose car broke down asked for help.", t: 12, d: 2, n: [0, 1], m: [2, 3, 4, 5], ex: "The woman ë’¤ì— whose + carê°€ ë‚˜ì˜µë‹ˆë‹¤. 'ì°¨ê°€ ê³ ì¥ ë‚œ' ì—¬ì." },
            { s: "The author whose books I love is visiting Korea.", t: 12, d: 3, n: [0, 1], m: [2, 3, 4, 5], ex: "The author ë’¤ì— whose + booksê°€ ë‚˜ì˜µë‹ˆë‹¤. 'ë‚´ê°€ ì‚¬ë‘í•˜ëŠ” ì±…ì˜' ì‘ê°€." },
            { s: "The country whose economy is growing attracts investors.", t: 12, d: 3, n: [0, 1], m: [2, 3, 4, 5], ex: "The country ë’¤ì— whose + economyê°€ ë‚˜ì˜µë‹ˆë‹¤." },
            { s: "The player whose goal won the match was celebrated.", t: 12, d: 3, n: [0, 1], m: [2, 3, 4, 5, 6], ex: "The player ë’¤ì— whose + goalì´ ë‚˜ì˜µë‹ˆë‹¤." },
            { s: "The tree whose leaves turned red looks beautiful.", t: 12, d: 2, n: [0, 1], m: [2, 3, 4, 5], ex: "The tree ë’¤ì— whose + leavesê°€ ë‚˜ì˜µë‹ˆë‹¤. 'ìì´ ë¹¨ê°›ê²Œ ë³€í•œ' ë‚˜ë¬´." },

            // ===== TYPE 13: ë¶€ì‚¬êµ¬ (6ë¬¸ì¥) =====
            { s: "The people outside are waiting.", t: 13, d: 1, n: [0, 1], m: [2], ex: "The people ë’¤ì— ë¶€ì‚¬ outsideê°€ ë‚˜ì™€ì„œ 'ë°–ì— ìˆëŠ”' ì‚¬ëŒë“¤." },
            { s: "The event tomorrow is important.", t: 13, d: 1, n: [0, 1], m: [2], ex: "The event ë’¤ì— ì‹œê°„ ë¶€ì‚¬ tomorrowê°€ ë‚˜ì™€ì„œ 'ë‚´ì¼ì˜' í–‰ì‚¬." },
            { s: "The meeting yesterday was canceled.", t: 13, d: 1, n: [0, 1], m: [2], ex: "The meeting ë’¤ì— yesterdayê°€ ë‚˜ì™€ì„œ 'ì–´ì œì˜' íšŒì˜." },
            { s: "The room upstairs is available.", t: 13, d: 1, n: [0, 1], m: [2], ex: "The room ë’¤ì— upstairsê°€ ë‚˜ì™€ì„œ 'ìœ„ì¸µì˜' ë°©." },
            { s: "The park nearby has a beautiful pond.", t: 13, d: 1, n: [0, 1], m: [2], ex: "The park ë’¤ì— nearbyê°€ ë‚˜ì™€ì„œ 'ê·¼ì²˜ì˜' ê³µì›." },
            { s: "The game tonight will be exciting.", t: 13, d: 1, n: [0, 1], m: [2], ex: "The game ë’¤ì— tonightê°€ ë‚˜ì™€ì„œ 'ì˜¤ëŠ˜ ë°¤ì˜' ê²½ê¸°." },

            // ===== TYPE 14: ë™ê²© ëª…ì‚¬êµ¬ (6ë¬¸ì¥) =====
            { s: "Seoul, the capital of Korea, is vibrant.", t: 14, d: 2, n: [0], m: [1, 2, 3, 4, 5], ex: "Seoul ë’¤ì— ì‰¼í‘œ + the capital of Korea(ë™ê²© ëª…ì‚¬êµ¬)ê°€ ë‚˜ì˜µë‹ˆë‹¤. 'í•œêµ­ì˜ ìˆ˜ë„ì¸' ì„œìš¸." },
            { s: "My friend Tom, a famous musician, will perform tonight.", t: 14, d: 2, n: [0, 1, 2], m: [3, 4, 5, 6], ex: "My friend Tom ë’¤ì— a famous musicianì´ ë™ê²©ìœ¼ë¡œ ë‚˜ì˜µë‹ˆë‹¤." },
            { s: "Einstein, a German-born physicist, changed science.", t: 14, d: 2, n: [0], m: [1, 2, 3, 4], ex: "Einstein ë’¤ì— a German-born physicistê°€ ë™ê²©ìœ¼ë¡œ ë‚˜ì˜µë‹ˆë‹¤." },
            { s: "Python, a popular programming language, is easy to learn.", t: 14, d: 2, n: [0], m: [1, 2, 3, 4, 5], ex: "Python ë’¤ì— a popular programming languageê°€ ë™ê²©." },
            { s: "BTS, a Korean boy band, became a global sensation.", t: 14, d: 2, n: [0], m: [1, 2, 3, 4, 5], ex: "BTS ë’¤ì— a Korean boy bandê°€ ë™ê²©ìœ¼ë¡œ ë‚˜ì˜µë‹ˆë‹¤." },
            { s: "The Amazon, the largest river in South America, is vital.", t: 14, d: 3, n: [0, 1], m: [2, 3, 4, 5, 6, 7, 8], ex: "The Amazon ë’¤ì— the largest river in South Americaê°€ ë™ê²©." },

            // ===== TYPE 15: ë¹„êµ/ìµœìƒê¸‰ (6ë¬¸ì¥) =====
            { s: "A task more difficult than I expected awaited us.", t: 15, d: 2, n: [0, 1], m: [2, 3, 4, 5, 6], ex: "A task ë’¤ì— more difficult than I expectedê°€ ë‚˜ì™€ì„œ ë¹„êµê¸‰ìœ¼ë¡œ ê¾¸ë©°ì¤ë‹ˆë‹¤." },
            { s: "The tallest building in the city can be seen from here.", t: 15, d: 2, n: [0, 1, 2], m: [3, 4, 5], ex: "The tallest building ë’¤ì— in the cityê°€ ìµœìƒê¸‰ì„ ë³´ì¶©í•©ë‹ˆë‹¤." },
            { s: "She chose a method simpler than the original one.", t: 15, d: 2, n: [3, 4], m: [5, 6, 7, 8, 9], ex: "a method ë’¤ì— simpler thanì´ ë‚˜ì˜µë‹ˆë‹¤." },
            { s: "The most interesting book I have ever read is this one.", t: 15, d: 3, n: [0, 1, 2, 3], m: [4, 5, 6, 7], ex: "The most interesting book ë’¤ì— I have ever readê°€ ë‚˜ì˜µë‹ˆë‹¤. (ìµœìƒê¸‰ + ê´€ê³„ëŒ€ëª…ì‚¬ ëª©ì ê²© í˜¼í•©!)" },
            { s: "A problem bigger than we thought emerged.", t: 15, d: 2, n: [0, 1], m: [2, 3, 4, 5], ex: "A problem ë’¤ì— bigger than we thoughtê°€ ë‚˜ì˜µë‹ˆë‹¤." },
            { s: "The best solution available right now is this.", t: 15, d: 2, n: [0, 1, 2], m: [3, 4, 5], ex: "The best solution ë’¤ì— available right nowê°€ ë‚˜ì˜µë‹ˆë‹¤." },

            // ===== TYPE 16: ìˆ˜ëŸ‰ + of (6ë¬¸ì¥) =====
            { s: "Many of the students passed the test.", t: 16, d: 1, n: [0], m: [1, 2, 3], ex: "Many ë’¤ì— of the studentsê°€ ë‚˜ì™€ì„œ 'í•™ìƒë“¤ ì¤‘ ë‹¤ìˆ˜ê°€'ë¼ëŠ” ëœ»." },
            { s: "Some of the information was useful.", t: 16, d: 1, n: [0], m: [1, 2, 3], ex: "Some ë’¤ì— of the informationì´ ë‚˜ì˜µë‹ˆë‹¤. 'ì •ë³´ì˜ ì¼ë¶€'." },
            { s: "Most of the work has been completed.", t: 16, d: 1, n: [0], m: [1, 2, 3], ex: "Most ë’¤ì— of the workê°€ ë‚˜ì˜µë‹ˆë‹¤. 'ì¼ì˜ ëŒ€ë¶€ë¶„'." },
            { s: "All of the guests arrived on time.", t: 16, d: 1, n: [0], m: [1, 2, 3], ex: "All ë’¤ì— of the guestsê°€ ë‚˜ì˜µë‹ˆë‹¤. 'ì†ë‹˜ë“¤ ì „ë¶€'." },
            { s: "None of the answers were correct.", t: 16, d: 2, n: [0], m: [1, 2, 3], ex: "None ë’¤ì— of the answersê°€ ë‚˜ì˜µë‹ˆë‹¤. 'ë‹µ ì¤‘ ì•„ë¬´ê²ƒë„'." },
            { s: "Each of the participants received a certificate.", t: 16, d: 2, n: [0], m: [1, 2, 3], ex: "Each ë’¤ì— of the participantsê°€ ë‚˜ì˜µë‹ˆë‹¤. 'ì°¸ê°€ì ê°ê°'." },

            // ===== TYPE 17: ëª…ì‚¬ + ìˆ˜ëŸ‰ + Î± (6ë¬¸ì¥) =====
            { s: "Three books on the shelf are mine.", t: 17, d: 1, n: [0, 1], m: [2, 3, 4], ex: "Three books ë’¤ì— on the shelfê°€ ë‚˜ì™€ì„œ 'ì„ ë°˜ ìœ„ì˜ ì„¸ ê¶Œì˜ ì±…'." },
            { s: "A journey of a thousand miles begins with a single step.", t: 17, d: 2, n: [0, 1], m: [2, 3, 4, 5], ex: "A journey ë’¤ì— of a thousand milesê°€ ë‚˜ì˜µë‹ˆë‹¤." },
            { s: "Two students in our class won the competition.", t: 17, d: 1, n: [0, 1], m: [2, 3, 4], ex: "Two students ë’¤ì— in our classê°€ ë‚˜ì˜µë‹ˆë‹¤." },
            { s: "Five members of the team were absent.", t: 17, d: 1, n: [0, 1], m: [2, 3, 4], ex: "Five members ë’¤ì— of the teamì´ ë‚˜ì˜µë‹ˆë‹¤." },
            { s: "A building of twenty stories collapsed.", t: 17, d: 2, n: [0, 1], m: [2, 3, 4], ex: "A building ë’¤ì— of twenty storiesê°€ ë‚˜ì˜µë‹ˆë‹¤." },
            { s: "Ten pages of the document were missing.", t: 17, d: 2, n: [0, 1], m: [2, 3, 4], ex: "Ten pages ë’¤ì— of the documentê°€ ë‚˜ì˜µë‹ˆë‹¤." }
        ];

        /* ========== APP STATE ========== */
        let state = {
            mode: 'identify', diff: 'all',
            idIdx: 0, clIdx: 0,
            idPool: [], clPool: [],
            total: 0, correct: 0, streak: 0, maxStreak: 0,
            typeStats: {}, wrongList: []
        };

        /* ì§„í–‰ë„(ìˆ«ì)ë§Œ ì €ì¥ â€” Poolì€ ë§¤ë²ˆ ìƒˆë¡œ ìƒì„±í•´ì„œ ìµœì‹  ë¬¸ì¥ì´ ë°˜ì˜ë¨ */
        function loadState() {
            try {
                const s = localStorage.getItem('syntaxSniper');
                if (s) {
                    const d = JSON.parse(s);
                    // Poolê³¼ ëª¨ë“œëŠ” ì œì™¸í•˜ê³  ì§„í–‰ë„ë§Œ ë³µì›
                    if (d.diff) state.diff = d.diff;
                    if (typeof d.idIdx === 'number') state.idIdx = d.idIdx;
                    if (typeof d.clIdx === 'number') state.clIdx = d.clIdx;
                    if (typeof d.total === 'number') state.total = d.total;
                    if (typeof d.correct === 'number') state.correct = d.correct;
                    if (typeof d.streak === 'number') state.streak = d.streak;
                    if (typeof d.maxStreak === 'number') state.maxStreak = d.maxStreak;
                    if (d.typeStats) state.typeStats = d.typeStats;
                    if (d.wrongList) state.wrongList = d.wrongList;
                }
            } catch (e) { }
        }
        function saveState() {
            try {
                const saveData = {
                    diff: state.diff,
                    idIdx: state.idIdx,
                    clIdx: state.clIdx,
                    total: state.total,
                    correct: state.correct,
                    streak: state.streak,
                    maxStreak: state.maxStreak,
                    typeStats: state.typeStats,
                    wrongList: state.wrongList
                };
                localStorage.setItem('syntaxSniper', JSON.stringify(saveData));
            } catch (e) { }
        }

        /* ========== TAB SWITCHING ========== */
        function switchTab(tab) {
            document.querySelectorAll('.panel').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav button').forEach(b => b.classList.remove('active'));
            document.getElementById('tab-' + tab).classList.add('active');
            const btns = document.querySelectorAll('.nav button');
            const names = ['identify', 'classify', 'custom', 'dashboard', 'reference'];
            btns[names.indexOf(tab)]?.classList.add('active');
            if (tab === 'dashboard') renderDashboard();
            if (tab === 'reference') renderReference();
        }

        /* ========== SENTENCE POOL ========== */
        function buildPool(diff) {
            let pool = [...SENTENCES];
            if (diff === 'easy') pool = pool.filter(s => s.d === 1);
            else if (diff === 'mid') pool = pool.filter(s => s.d === 2);
            else if (diff === 'hard') pool = pool.filter(s => s.d === 3);
            // ì…”í”Œ
            for (let i = pool.length - 1; i > 0; i--) { const j = Math.floor(Math.random() * (i + 1));[pool[i], pool[j]] = [pool[j], pool[i]] }
            return pool;
        }

        /* ========== DIFFICULTY CHIPS ========== */
        function setDifficulty(d) {
            state.diff = d; state.idIdx = 0; state.idPool = buildPool(d);
            document.querySelectorAll('#tab-identify .mode-selector .chip').forEach(c => { c.classList.remove('active'); if (c.textContent.includes(d === 'all' ? 'ì „ì²´' : d === 'easy' ? 'ì‰¬ì›€' : d === 'mid' ? 'ë³´í†µ' : 'ì–´ë ¤ì›€')) c.classList.add('active') });
            renderIdentify();
        }
        function setClassifyDiff(d) {
            state.diff = d; state.clIdx = 0; state.clPool = buildPool(d);
            document.querySelectorAll('#tab-classify .mode-selector .chip').forEach(c => { c.classList.remove('active'); if (c.textContent.includes(d === 'all' ? 'ì „ì²´' : d === 'easy' ? 'ì‰¬ì›€' : d === 'mid' ? 'ë³´í†µ' : 'ì–´ë ¤ì›€')) c.classList.add('active') });
            renderClassify();
        }

        /* ========== IDENTIFY MODE ========== */
        function renderIdentify() {
            const pool = state.idPool; if (!pool.length) return;
            const item = pool[state.idIdx % pool.length];
            const words = item.s.split(/\s+/);
            const box = document.getElementById('id-sentence');
            box.innerHTML = words.map((w, i) => `<span class="word" data-idx="${i}" onclick="toggleNoun(this,event)" oncontextmenu="toggleMod(this,event)">${w}</span>`).join(' ');
            const diffMap = { 1: ['ğŸŒ± ì‰¬ì›€', 'diff-easy'], 2: ['ğŸŒ³ ë³´í†µ', 'diff-mid'], 3: ['ğŸ… ì–´ë ¤ì›€', 'diff-hard'] };
            const [label, cls] = diffMap[item.d] || diffMap[1];
            document.getElementById('id-diff').textContent = label;
            document.getElementById('id-diff').className = 'diff-badge ' + cls;
            document.getElementById('id-counter').textContent = `${state.idIdx + 1} / ${pool.length}`;
            document.getElementById('id-progress').style.width = (state.idIdx / pool.length * 100) + '%';
            document.getElementById('id-feedback').className = 'feedback';
            document.getElementById('id-feedback').classList.remove('show');
            document.getElementById('id-next-group').style.display = 'none';
        }

        function toggleNoun(el, e) { e.preventDefault(); el.classList.toggle('noun-selected'); el.classList.remove('mod-selected') }
        function toggleMod(el, e) { e.preventDefault(); el.classList.toggle('mod-selected'); el.classList.remove('noun-selected') }

        /* ========== MOBILE LONG-PRESS SUPPORT ========== */
        /* 500ms ê¾¹ ëˆ„ë¥´ë©´ ìˆ˜ì‹ì–´ ë§ˆí‚¹ (ëª¨ë°”ì¼ì—ì„œ ìš°í´ë¦­ ëŒ€ì²´) */
        let longPressTimer = null;
        let longPressTriggered = false;

        document.addEventListener('touchstart', function (e) {
            const word = e.target.closest('.sentence-box .word');
            if (!word) return;
            longPressTriggered = false;
            longPressTimer = setTimeout(function () {
                longPressTriggered = true;
                word.classList.add('long-pressing');
                toggleMod(word, e);
                // ì§§ì€ ì§„ë™ í”¼ë“œë°± (ì§€ì›í•˜ëŠ” ê¸°ê¸°)
                if (navigator.vibrate) navigator.vibrate(30);
                setTimeout(() => word.classList.remove('long-pressing'), 200);
            }, 500);
        }, { passive: true });

        document.addEventListener('touchend', function (e) {
            if (longPressTimer) { clearTimeout(longPressTimer); longPressTimer = null; }
            const word = e.target.closest('.sentence-box .word');
            if (!word) return;
            if (longPressTriggered) {
                // ë¡±í”„ë ˆìŠ¤ë¡œ ì´ë¯¸ ìˆ˜ì‹ì–´ ë§ˆí‚¹ ì™„ë£Œ â€” í´ë¦­ ì´ë²¤íŠ¸ ë°©ì§€
                e.preventDefault();
                longPressTriggered = false;
            }
        });

        document.addEventListener('touchmove', function (e) {
            // ì†ê°€ë½ì´ ì›€ì§ì´ë©´ ë¡±í”„ë ˆìŠ¤ ì·¨ì†Œ
            if (longPressTimer) { clearTimeout(longPressTimer); longPressTimer = null; }
            const word = document.querySelector('.word.long-pressing');
            if (word) word.classList.remove('long-pressing');
        }, { passive: true });

        function checkIdentify() {
            const pool = state.idPool; const item = pool[state.idIdx % pool.length];
            const words = document.querySelectorAll('#id-sentence .word');
            const userN = new Set(), userM = new Set();
            words.forEach(w => { const i = +w.dataset.idx; if (w.classList.contains('noun-selected')) userN.add(i); if (w.classList.contains('mod-selected')) userM.add(i) });
            const correctN = new Set(item.n), correctM = new Set(item.m);
            const nOk = setsEqual(userN, correctN), mOk = setsEqual(userM, correctM);
            const isCorrect = nOk && mOk;
            state.total++;
            if (isCorrect) { state.correct++; state.streak++; if (state.streak > state.maxStreak) state.maxStreak = state.streak }
            else { state.streak = 0; state.wrongList.unshift({ s: item.s, t: item.t }); if (state.wrongList.length > 20) state.wrongList.pop() }
            // ìœ í˜•ë³„ í†µê³„
            if (!state.typeStats[item.t]) state.typeStats[item.t] = { total: 0, correct: 0 };
            state.typeStats[item.t].total++;
            if (isCorrect) state.typeStats[item.t].correct++;
            // ì‹œê° í”¼ë“œë°±
            words.forEach(w => {
                const i = +w.dataset.idx;
                w.classList.remove('noun-selected', 'mod-selected');
                if (correctN.has(i)) w.classList.add('correct-noun');
                if (correctM.has(i)) w.classList.add('correct-mod');
                if ((userN.has(i) && !correctN.has(i) && !correctM.has(i)) || (userM.has(i) && !correctM.has(i) && !correctN.has(i))) w.classList.add('wrong');
            });
            const fb = document.getElementById('id-feedback');
            fb.className = 'feedback show ' + (isCorrect ? 'correct' : 'wrong');
            document.getElementById('id-fb-title').textContent = isCorrect ? 'ğŸ‰ ì •ë‹µ!' : 'âŒ ì˜¤ë‹µ';
            document.getElementById('id-fb-explain').innerHTML = `<b>[${TYPES[item.t].short}]</b> ${item.ex}`;
            document.getElementById('id-next-group').style.display = 'flex';
            updateHeader(); saveState();
        }

        function showHint() {
            const pool = state.idPool; const item = pool[state.idIdx % pool.length];
            const fb = document.getElementById('id-feedback');
            fb.className = 'feedback show'; fb.style.borderColor = 'var(--warning)'; fb.style.background = 'rgba(243,156,18,.1)';
            document.getElementById('id-fb-title').textContent = 'ğŸ’¡ íŒíŠ¸';
            document.getElementById('id-fb-explain').textContent = TYPES[item.t].hint;
        }

        function skipSentence() { state.idIdx++; renderIdentify() }
        function nextIdentify() { state.idIdx++; renderIdentify() }

        /* ========== CLASSIFY MODE ========== */
        function renderClassify() {
            const pool = state.clPool; if (!pool.length) return;
            const item = pool[state.clIdx % pool.length];
            const words = item.s.split(/\s+/);
            const box = document.getElementById('cl-sentence');
            box.innerHTML = words.map((w, i) => {
                let cls = '';
                if (item.n.includes(i)) cls = 'noun-selected';
                if (item.m.includes(i)) cls = 'mod-selected';
                return `<span class="word ${cls}">${w}</span>`;
            }).join(' ');
            const diffMap = { 1: ['ğŸŒ± ì‰¬ì›€', 'diff-easy'], 2: ['ğŸŒ³ ë³´í†µ', 'diff-mid'], 3: ['ğŸ… ì–´ë ¤ì›€', 'diff-hard'] };
            const [label, cls] = diffMap[item.d] || diffMap[1];
            document.getElementById('cl-diff').textContent = label; document.getElementById('cl-diff').className = 'diff-badge ' + cls;
            document.getElementById('cl-progress').style.width = (state.clIdx / pool.length * 100) + '%';
            // ìœ í˜• ê·¸ë¦¬ë“œ
            const grid = document.getElementById('cl-type-grid');
            grid.innerHTML = Object.entries(TYPES).map(([k, v]) => `<button class="type-btn" data-type="${k}" onclick="checkClassify(${k})">${k}. ${v.short}</button>`).join('');
            document.getElementById('cl-feedback').className = 'feedback';
            document.getElementById('cl-feedback').classList.remove('show');
            document.getElementById('cl-next-group').style.display = 'none';
        }

        function checkClassify(userType) {
            const pool = state.clPool; const item = pool[state.clIdx % pool.length];
            const isCorrect = (userType === item.t);
            state.total++;
            if (isCorrect) { state.correct++; state.streak++; if (state.streak > state.maxStreak) state.maxStreak = state.streak }
            else { state.streak = 0; state.wrongList.unshift({ s: item.s, t: item.t }); if (state.wrongList.length > 20) state.wrongList.pop() }
            if (!state.typeStats[item.t]) state.typeStats[item.t] = { total: 0, correct: 0 };
            state.typeStats[item.t].total++; if (isCorrect) state.typeStats[item.t].correct++;
            document.querySelectorAll('.type-btn').forEach(b => {
                const bt = +b.dataset.type;
                if (bt === item.t) b.classList.add('correct');
                else if (bt === userType && !isCorrect) b.classList.add('wrong');
                b.style.pointerEvents = 'none';
            });
            const fb = document.getElementById('cl-feedback');
            fb.className = 'feedback show ' + (isCorrect ? 'correct' : 'wrong');
            document.getElementById('cl-fb-title').textContent = isCorrect ? 'ğŸ‰ ì •ë‹µ!' : 'âŒ ì˜¤ë‹µ â€” ì •ë‹µ: ' + TYPES[item.t].name;
            document.getElementById('cl-fb-explain').innerHTML = item.ex;
            document.getElementById('cl-next-group').style.display = 'flex';
            updateHeader(); saveState();
        }

        function nextClassify() { state.clIdx++; renderClassify() }

        /* ========== CUSTOM TEXT ========== */
        function loadCustomText() {
            const text = document.getElementById('custom-input').value.trim();
            if (!text) { alert('ì§€ë¬¸ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!'); return }
            const sentences = text.match(/[^.!?]+[.!?]+/g) || [text];
            const container = document.getElementById('custom-sentences');
            container.innerHTML = '';
            sentences.forEach((sent, si) => {
                const words = sent.trim().split(/\s+/);
                const div = document.createElement('div');
                div.className = 'sentence-box'; div.style.marginBottom = '8px';
                div.innerHTML = `<span style="font-size:.7em;color:var(--text-muted)">#${si + 1}</span> ` +
                    words.map((w, i) => `<span class="word" data-si="${si}" data-idx="${i}" onclick="toggleNoun(this,event)" oncontextmenu="toggleMod(this,event)">${w}</span>`).join(' ');
                container.appendChild(div);
            });
            document.getElementById('custom-practice').style.display = 'block';
        }

        function clearCustom() {
            document.getElementById('custom-input').value = '';
            document.getElementById('custom-practice').style.display = 'none';
            document.getElementById('custom-sentences').innerHTML = '';
        }

        function exportCustomResult() {
            const boxes = document.querySelectorAll('#custom-sentences .sentence-box');
            let result = '=== êµ¬ë¬¸ ìŠ¤ë‚˜ì´í¼ ì»¤ìŠ¤í…€ ë¶„ì„ ê²°ê³¼ ===\n\n';
            boxes.forEach(box => {
                const words = box.querySelectorAll('.word');
                let sent = '', nouns = [], mods = [];
                words.forEach(w => {
                    sent += w.textContent + ' ';
                    if (w.classList.contains('noun-selected')) nouns.push(w.textContent);
                    if (w.classList.contains('mod-selected')) mods.push(w.textContent);
                });
                result += sent.trim() + '\n';
                if (nouns.length) result += '  ğŸ“˜ ëª…ì‚¬: ' + nouns.join(' ') + '\n';
                if (mods.length) result += '  ğŸ“• ìˆ˜ì‹ì–´: ' + mods.join(' ') + '\n';
                result += '\n';
            });
            navigator.clipboard.writeText(result).then(() => alert('ê²°ê³¼ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!')).catch(() => {
                const ta = document.createElement('textarea'); ta.value = result; document.body.appendChild(ta); ta.select(); document.execCommand('copy'); document.body.removeChild(ta); alert('ë³µì‚¬ ì™„ë£Œ!');
            });
        }

        /* ========== DASHBOARD ========== */
        function renderDashboard() {
            const acc = state.total ? Math.round(state.correct / state.total * 100) : 0;
            document.getElementById('dash-summary').innerHTML = `
    <div class="dash-card"><div class="big-num">${state.total}</div><div class="label">ì´ ë¬¸ì œ ìˆ˜</div></div>
    <div class="dash-card"><div class="big-num">${acc}%</div><div class="label">ì •ë‹µë¥ </div></div>
    <div class="dash-card"><div class="big-num">${state.streak}</div><div class="label">í˜„ì¬ ì—°ì† ì •ë‹µ</div></div>
    <div class="dash-card"><div class="big-num">${state.maxStreak}</div><div class="label">ìµœê³  ì—°ì† ì •ë‹µ</div></div>`;
            // ìœ í˜•ë³„ ì°¨íŠ¸
            const chart = document.getElementById('dash-type-chart');
            let html = '';
            for (let i = 1; i <= 17; i++) {
                const ts = state.typeStats[i] || { total: 0, correct: 0 };
                const pct = ts.total ? Math.round(ts.correct / ts.total * 100) : 0;
                const color = TYPES[i].color;
                html += `<div class="bar-row"><div class="bar-label">${i}. ${TYPES[i].short}</div><div class="bar-track"><div class="bar-fill" style="width:${pct}%;background:${color}"></div></div><div class="bar-val" style="color:${color}">${ts.total ? pct + '%' : '-'}</div></div>`;
            }
            chart.innerHTML = html;
            // ì˜¤ë‹µ ëª©ë¡
            const wl = document.getElementById('dash-wrong-list');
            if (state.wrongList.length === 0) wl.innerHTML = '<p style="color:var(--text-muted)">ì•„ì§ ì˜¤ë‹µì´ ì—†ìŠµë‹ˆë‹¤! ğŸ‰</p>';
            else wl.innerHTML = state.wrongList.slice(0, 10).map(w => `<div style="padding:6px 0;border-bottom:1px solid var(--surface3)">"${w.s}" <span style="color:${TYPES[w.t].color}">[${TYPES[w.t].short}]</span></div>`).join('');
        }

        function resetProgress() {
            if (confirm('ì •ë§ë¡œ ëª¨ë“  ì§„í–‰ë„ë¥¼ ì´ˆê¸°í™”í• ê¹Œìš”?')) {
                state = { mode: 'identify', diff: 'all', idIdx: 0, clIdx: 0, idPool: buildPool('all'), clPool: buildPool('all'), total: 0, correct: 0, streak: 0, maxStreak: 0, typeStats: {}, wrongList: [] };
                saveState(); renderDashboard(); updateHeader(); alert('ì´ˆê¸°í™” ì™„ë£Œ!');
            }
        }

        /* ========== REFERENCE TABLE ========== */
        function renderReference() {
            const examples = {
                1: "The book <b class='mn'>on the desk</b> is mine.",
                2: "The man <b class='md'>talking to John</b> is my teacher.",
                3: "The car <b class='md'>repaired by the mechanic</b> runs well.",
                4: "It's a problem <b class='md'>difficult to solve</b>.",
                5: "I have no friends <b class='md'>to play with</b>.",
                6: "The woman <b class='md'>who lives next door</b> is a doctor.",
                7: "The movie <b class='md'>I watched yesterday</b> was fantastic.",
                8: "I remember the day <b class='md'>when we first met</b>.",
                9: "The news <b class='md'>that he won the award</b> surprised everyone.",
                10: "The idea <b class='md'>of traveling around the world</b> excites me.",
                11: "This is the house <b class='md'>in which I grew up</b>.",
                12: "The student <b class='md'>whose backpack was stolen</b> reported it.",
                13: "The people <b class='md'>outside</b> are waiting.",
                14: "Seoul, <b class='md'>the capital of Korea</b>, is vibrant.",
                15: "A task <b class='md'>more difficult than I expected</b>.",
                16: "Many <b class='md'>of the students</b> passed the test.",
                17: "Three books <b class='md'>on the shelf</b> are mine."
            };
            let html = '<style>.mn{color:var(--noun)}.md{color:var(--modifier)}</style><table style="width:100%;border-collapse:collapse;font-size:.85em">';
            html += '<tr style="background:var(--surface3)"><th style="padding:8px;text-align:center;border:1px solid var(--surface3);width:30px">#</th><th style="padding:8px;border:1px solid var(--surface3)">ìœ í˜•</th><th style="padding:8px;border:1px solid var(--surface3)">íŒíŠ¸</th><th style="padding:8px;border:1px solid var(--surface3)">ì˜ˆë¬¸</th></tr>';
            for (let i = 1; i <= 17; i++) {
                const t = TYPES[i];
                html += `<tr style="border-bottom:1px solid var(--surface3)"><td style="padding:8px;text-align:center;color:${t.color};font-weight:700">${i}</td><td style="padding:8px;color:${t.color}">${t.name}</td><td style="padding:8px;font-size:.9em;color:var(--text-dim)">${t.hint}</td><td style="padding:8px">${examples[i]}</td></tr>`;
            }
            html += '</table>';
            document.getElementById('ref-table').innerHTML = html;
        }

        /* ========== HEADER UPDATE ========== */
        function updateHeader() {
            const acc = state.total ? Math.round(state.correct / state.total * 100) : 0;
            document.getElementById('hd-acc').textContent = acc + '%';
            document.getElementById('hd-streak').textContent = state.streak;
            const pool = state.mode === 'classify' ? state.clPool : state.idPool;
            const idx = state.mode === 'classify' ? state.clIdx : state.idIdx;
            document.getElementById('hd-done').textContent = `${state.total}ë¬¸ì œ`;
        }

        /* ========== UTILS ========== */
        function setsEqual(a, b) { if (a.size !== b.size) return false; for (const v of a) if (!b.has(v)) return false; return true }

        /* ========== INIT ========== */
        loadState();
        state.idPool = buildPool(state.diff);
        state.clPool = buildPool(state.diff);
        renderIdentify();
        updateHeader();
    </script>
</body>

</html>